<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; color: #8ebeff; background-color: #1b1f22}
    span.s1 {font-kerning: none; color: #dadde2}
    span.s2 {font-kerning: none; color: #76e78c}
    span.s3 {font-kerning: none; color: #a37aec}
    span.s4 {font-kerning: none}
    span.s5 {font-kerning: none; color: #68a7ff}
    span.s6 {font-kerning: none; color: #f55c70}
    span.s7 {font-kerning: none; color: #fa9ba8}
    span.s8 {font-kerning: none; color: #fd9a5d}
    span.s9 {font-kerning: none; color: #57606a}
    span.s10 {font: 13.0px 'Apple Color Emoji'; font-kerning: none}
    span.s11 {font: 13.0px Menlo; font-kerning: none}
    span.s12 {font: 13.0px 'STIX Two Math'; font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!</span><span class="s2">doctype</span><span class="s3"> html</span><span class="s1">&gt;&lt;</span><span class="s2">html</span><span class="s3"> lang</span><span class="s1">=</span><span class="s4">"en"</span><span class="s1">&gt;<span class="Apple-converted-space">  </span>&lt;</span><span class="s2">head</span><span class="s1">&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">meta</span><span class="s3"> charset</span><span class="s1">=</span><span class="s4">"UTF-8"</span><span class="s1"> /&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">meta</span><span class="s3"> name</span><span class="s1">=</span><span class="s4">"viewport"</span><span class="s3"> content</span><span class="s1">=</span><span class="s4">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="s1"> /&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">title</span><span class="s1">&gt;Synapse - Medical Study Focus App&lt;/</span><span class="s2">title</span><span class="s1">&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">meta</span><span class="s3"> name</span><span class="s1">=</span><span class="s4">"description"</span><span class="s3"> content</span><span class="s1">=</span><span class="s4">"The anti-cheat focus app for medical students with active recall verification and RPG progression"</span><span class="s1"> /&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">meta</span><span class="s3"> name</span><span class="s1">=</span><span class="s4">"theme-color"</span><span class="s3"> content</span><span class="s1">=</span><span class="s4">"#0891b2"</span><span class="s1"> /&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">meta</span><span class="s3"> name</span><span class="s1">=</span><span class="s4">"apple-mobile-web-app-capable"</span><span class="s3"> content</span><span class="s1">=</span><span class="s4">"yes"</span><span class="s1"> /&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">meta</span><span class="s3"> name</span><span class="s1">=</span><span class="s4">"apple-mobile-web-app-status-bar-style"</span><span class="s3"> content</span><span class="s1">=</span><span class="s4">"black-translucent"</span><span class="s1"> /&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">link</span><span class="s3"> rel</span><span class="s1">=</span><span class="s4">"manifest"</span><span class="s3"> href</span><span class="s1">=</span><span class="s4">"./manifest.json"</span><span class="s1"> /&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">style</span><span class="s1">&gt;</span><span class="s2"><span class="Apple-converted-space">      </span>*</span><span class="s1">{</span><span class="s5">box-sizing</span><span class="s1">:</span><span class="s5">border-box</span><span class="s1">;</span><span class="s5">margin</span><span class="s1">:</span><span class="s5">0</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">0</span><span class="s1">}</span><span class="s2">html</span><span class="s1">{</span><span class="s5">font-family</span><span class="s1">:</span><span class="s5">system-ui</span><span class="s1">,</span><span class="s5">-apple-system</span><span class="s1">,</span><span class="s5">sans-serif</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#0f172a</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">100</span><span class="s6">%</span><span class="s1">}</span><span class="s2">body</span><span class="s1">{</span><span class="s5">height</span><span class="s1">:</span><span class="s5">100</span><span class="s6">%</span><span class="s1">;</span><span class="s5">overflow-x</span><span class="s1">:</span><span class="s5">hidden</span><span class="s1">}</span><span class="s3">#root</span><span class="s1">{</span><span class="s5">height</span><span class="s1">:</span><span class="s5">100</span><span class="s6">%</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.app</span><span class="s1">{</span><span class="s5">min-height</span><span class="s1">:</span><span class="s5">100</span><span class="s6">vh</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">135</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">#0f172a 0</span><span class="s6">%</span><span class="s1">,</span><span class="s5">#1e293b 50</span><span class="s6">%</span><span class="s1">,</span><span class="s5">#0f172a 100</span><span class="s6">%</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.nav</span><span class="s1">{</span><span class="s5">position</span><span class="s1">:</span><span class="s5">fixed</span><span class="s1">;</span><span class="s5">bottom</span><span class="s1">:</span><span class="s5">0</span><span class="s1">;</span><span class="s5">left</span><span class="s1">:</span><span class="s5">0</span><span class="s1">;</span><span class="s5">right</span><span class="s1">:</span><span class="s5">0</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">15</span><span class="s1">,</span><span class="s5">23</span><span class="s1">,</span><span class="s5">42</span><span class="s1">,</span><span class="s5">0.95</span><span class="s1">);</span><span class="s5">backdrop-filter</span><span class="s1">:</span><span class="s5">blur</span><span class="s1">(</span><span class="s5">10</span><span class="s6">px</span><span class="s1">);</span><span class="s5">border-top</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.2</span><span class="s1">);</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">justify-content</span><span class="s1">:</span><span class="s5">space-around</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s5"> 0</span><span class="s1">;</span><span class="s5">z-index</span><span class="s1">:</span><span class="s5">50</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.nav-btn</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">flex-direction</span><span class="s1">:</span><span class="s5">column</span><span class="s1">;</span><span class="s5">align-items</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">4</span><span class="s6">px</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s5"> 16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">none</span><span class="s1">;</span><span class="s5">border</span><span class="s1">:</span><span class="s5">none</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#94a3b8</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">10</span><span class="s6">px</span><span class="s1">;</span><span class="s5">cursor</span><span class="s1">:</span><span class="s5">pointer</span><span class="s1">;</span><span class="s5">transition</span><span class="s1">:</span><span class="s5">all 0.2</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.nav-btn.active</span><span class="s1">,</span><span class="s3">.nav-btn:hover</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.nav-btn</span><span class="s2"> svg</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.screen</span><span class="s1">{</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">20</span><span class="s6">px</span><span class="s1">;</span><span class="s5">padding-bottom</span><span class="s1">:</span><span class="s5">100</span><span class="s6">px</span><span class="s1">;</span><span class="s5">max-width</span><span class="s1">:</span><span class="s5">500</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin</span><span class="s1">:</span><span class="s5">0 auto</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.header</span><span class="s1">{</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">40</span><span class="s6">px</span><span class="s5"> 20</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.logo</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">48</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-bottom</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.title</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">28</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-weight</span><span class="s1">:</span><span class="s5">700</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">135</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">#06b6d4</span><span class="s1">,</span><span class="s5">#22d3ee</span><span class="s1">);</span><span class="s5">-webkit-background-clip</span><span class="s1">:</span><span class="s5">text</span><span class="s1">;</span><span class="s5">-webkit-text-fill-color</span><span class="s1">:</span><span class="s5">transparent</span><span class="s1">;</span><span class="s5">background-clip</span><span class="s1">:</span><span class="s5">text</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.subtitle</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#94a3b8</span><span class="s1">;</span><span class="s5">margin-top</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.card</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">30</span><span class="s1">,</span><span class="s5">41</span><span class="s1">,</span><span class="s5">59</span><span class="s1">,</span><span class="s5">0.8</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.2</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">20</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-bottom</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.card-title</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">;</span><span class="s5">text-transform</span><span class="s1">:</span><span class="s5">uppercase</span><span class="s1">;</span><span class="s5">letter-spacing</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-bottom</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.select</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">100</span><span class="s6">%</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s5"> 16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">15</span><span class="s1">,</span><span class="s5">23</span><span class="s1">,</span><span class="s5">42</span><span class="s1">,</span><span class="s5">0.8</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">cursor</span><span class="s1">:</span><span class="s5">pointer</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.select</span><span class="s2"> option</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#1e293b</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.btn</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">100</span><span class="s6">%</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">border</span><span class="s1">:</span><span class="s5">none</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-weight</span><span class="s1">:</span><span class="s5">600</span><span class="s1">;</span><span class="s5">cursor</span><span class="s1">:</span><span class="s5">pointer</span><span class="s1">;</span><span class="s5">transition</span><span class="s1">:</span><span class="s5">all 0.2</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.btn-primary</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">135</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">#0891b2</span><span class="s1">,</span><span class="s5">#06b6d4</span><span class="s1">);</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.btn-primary:hover</span><span class="s1">{</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">translateY</span><span class="s1">(</span><span class="s5">-2</span><span class="s6">px</span><span class="s1">);</span><span class="s5">box-shadow</span><span class="s1">:</span><span class="s5">0 10</span><span class="s6">px</span><span class="s5"> 40</span><span class="s6">px</span><span class="s5"> rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.timer-display</span><span class="s1">{</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">60</span><span class="s6">px</span><span class="s5"> 20</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.timer-time</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">80</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-weight</span><span class="s1">:</span><span class="s5">200</span><span class="s1">;</span><span class="s5">font-family</span><span class="s1">:</span><span class="s4">'SF Mono'</span><span class="s1">,</span><span class="s5">monospace</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">135</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">#06b6d4</span><span class="s1">,</span><span class="s5">#22d3ee</span><span class="s1">);</span><span class="s5">-webkit-background-clip</span><span class="s1">:</span><span class="s5">text</span><span class="s1">;</span><span class="s5">-webkit-text-fill-color</span><span class="s1">:</span><span class="s5">transparent</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.timer-label</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#94a3b8</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-top</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.timer-controls</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">justify-content</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">margin-top</span><span class="s1">:</span><span class="s5">32</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.timer-btn</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">64</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">64</span><span class="s6">px</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">50</span><span class="s6">%</span><span class="s1">;</span><span class="s5">border</span><span class="s1">:</span><span class="s5">2</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">);</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">);</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">cursor</span><span class="s1">:</span><span class="s5">pointer</span><span class="s1">;</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">align-items</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">justify-content</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">transition</span><span class="s1">:</span><span class="s5">all 0.2</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.timer-btn:hover</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.2</span><span class="s1">);</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">scale</span><span class="s1">(</span><span class="s5">1.05</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.timer-btn.primary</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">135</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">#0891b2</span><span class="s1">,</span><span class="s5">#06b6d4</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">none</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">;</span><span class="s5">width</span><span class="s1">:</span><span class="s5">80</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">80</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.progress-ring</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">280</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">280</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin</span><span class="s1">:</span><span class="s5">0 auto</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.stats-grid</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">grid</span><span class="s1">;</span><span class="s5">grid-template-columns</span><span class="s1">:</span><span class="s5">repeat</span><span class="s1">(</span><span class="s5">2</span><span class="s1">,</span><span class="s5">1</span><span class="s6">fr</span><span class="s1">);</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.stat-card</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">30</span><span class="s1">,</span><span class="s5">41</span><span class="s1">,</span><span class="s5">59</span><span class="s1">,</span><span class="s5">0.6</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.stat-value</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-weight</span><span class="s1">:</span><span class="s5">700</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.stat-label</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">11</span><span class="s6">px</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#64748b</span><span class="s1">;</span><span class="s5">margin-top</span><span class="s1">:</span><span class="s5">4</span><span class="s6">px</span><span class="s1">;</span><span class="s5">text-transform</span><span class="s1">:</span><span class="s5">uppercase</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.exit-ticket</span><span class="s1">{</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">20</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.exit-ticket</span><span class="s2"> h2</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">margin-bottom</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.exit-ticket</span><span class="s2"> p</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#94a3b8</span><span class="s1">;</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">margin-bottom</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.exit-ticket</span><span class="s2"> textarea</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">100</span><span class="s6">%</span><span class="s1">;</span><span class="s5">min-height</span><span class="s1">:</span><span class="s5">200</span><span class="s6">px</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">15</span><span class="s1">,</span><span class="s5">23</span><span class="s1">,</span><span class="s5">42</span><span class="s1">,</span><span class="s5">0.8</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">resize</span><span class="s1">:</span><span class="s5">vertical</span><span class="s1">;</span><span class="s5">font-family</span><span class="s1">:</span><span class="s5">inherit</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.exit-ticket</span><span class="s2"> textarea</span><span class="s3">::placeholder</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#64748b</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.bullet-count</span><span class="s1">{</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">right</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#64748b</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-top</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.profile-header</span><span class="s1">{</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">40</span><span class="s6">px</span><span class="s5"> 20</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.avatar</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">120</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">120</span><span class="s6">px</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">50</span><span class="s6">%</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">135</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">#0891b2</span><span class="s1">,</span><span class="s5">#06b6d4</span><span class="s1">);</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">align-items</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">justify-content</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">48</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin</span><span class="s1">:</span><span class="s5">0 auto 16</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.rank</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-weight</span><span class="s1">:</span><span class="s5">700</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.rank-subtitle</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#94a3b8</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.progress-bar</span><span class="s1">{</span><span class="s5">height</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.2</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">4</span><span class="s6">px</span><span class="s1">;</span><span class="s5">overflow</span><span class="s1">:</span><span class="s5">hidden</span><span class="s1">;</span><span class="s5">margin</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s5"> 0</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.progress-fill</span><span class="s1">{</span><span class="s5">height</span><span class="s1">:</span><span class="s5">100</span><span class="s6">%</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">90</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">#0891b2</span><span class="s1">,</span><span class="s5">#06b6d4</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">4</span><span class="s6">px</span><span class="s1">;</span><span class="s5">transition</span><span class="s1">:width </span><span class="s5">0.3</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.badges</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">flex-wrap</span><span class="s1">:</span><span class="s5">wrap</span><span class="s1">;</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-top</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.badge</span><span class="s1">{</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s5"> 12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">20</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.badge.locked</span><span class="s1">{</span><span class="s5">opacity</span><span class="s1">:</span><span class="s5">0.4</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#64748b</span><span class="s1">;</span><span class="s5">border-color</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">100</span><span class="s1">,</span><span class="s5">116</span><span class="s1">,</span><span class="s5">139</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.heatmap</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">grid</span><span class="s1">;</span><span class="s5">grid-template-columns</span><span class="s1">:</span><span class="s5">repeat</span><span class="s1">(</span><span class="s5">12</span><span class="s1">,</span><span class="s5">1</span><span class="s6">fr</span><span class="s1">);</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">3</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.heatmap-cell</span><span class="s1">{</span><span class="s5">aspect-ratio</span><span class="s1">:</span><span class="s5">1</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">2</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.heatmap-cell.l1</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.heatmap-cell.l2</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.5</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.heatmap-cell.l3</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.7</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.heatmap-cell.l4</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.vault-balance</span><span class="s1">{</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">32</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">linear-gradient</span><span class="s1">(</span><span class="s5">135</span><span class="s6">deg</span><span class="s1">,</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">),</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">34</span><span class="s1">,</span><span class="s5">211</span><span class="s1">,</span><span class="s5">238</span><span class="s1">,</span><span class="s5">0.05</span><span class="s1">));</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-bottom</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.vault-amount</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">48</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-weight</span><span class="s1">:</span><span class="s5">700</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.vault-label</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#94a3b8</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.app-grid</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">grid</span><span class="s1">;</span><span class="s5">grid-template-columns</span><span class="s1">:</span><span class="s5">repeat</span><span class="s1">(</span><span class="s5">3</span><span class="s1">,</span><span class="s5">1</span><span class="s6">fr</span><span class="s1">);</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.app-item</span><span class="s1">{</span><span class="s5">text-align</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">30</span><span class="s1">,</span><span class="s5">41</span><span class="s1">,</span><span class="s5">59</span><span class="s1">,</span><span class="s5">0.6</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">cursor</span><span class="s1">:</span><span class="s5">pointer</span><span class="s1">;</span><span class="s5">transition</span><span class="s1">:</span><span class="s5">all 0.2</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.app-item:hover</span><span class="s1">{</span><span class="s5">border-color</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">);</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">translateY</span><span class="s1">(</span><span class="s5">-2</span><span class="s6">px</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.app-item.locked</span><span class="s1">{</span><span class="s5">opacity</span><span class="s1">:</span><span class="s5">0.5</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.app-icon</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">32</span><span class="s6">px</span><span class="s1">;</span><span class="s5">margin-bottom</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.app-name</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#94a3b8</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.app-cost</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">10</span><span class="s6">px</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">;</span><span class="s5">margin-top</span><span class="s1">:</span><span class="s5">4</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.settings-item</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">justify-content</span><span class="s1">:</span><span class="s5">space-between</span><span class="s1">;</span><span class="s5">align-items</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s5"> 0</span><span class="s1">;</span><span class="s5">border-bottom</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">100</span><span class="s1">,</span><span class="s5">116</span><span class="s1">,</span><span class="s5">139</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.settings-item:last-child</span><span class="s1">{</span><span class="s5">border-bottom</span><span class="s1">:</span><span class="s5">none</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.settings-label</span><span class="s1">{</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.settings-value</span><span class="s1">{</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.toggle</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">48</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">28</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">100</span><span class="s1">,</span><span class="s5">116</span><span class="s1">,</span><span class="s5">139</span><span class="s1">,</span><span class="s5">0.3</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">;</span><span class="s5">position</span><span class="s1">:</span><span class="s5">relative</span><span class="s1">;</span><span class="s5">cursor</span><span class="s1">:</span><span class="s5">pointer</span><span class="s1">;</span><span class="s5">transition</span><span class="s1">:</span><span class="s7"><i>background</i></span><span class="s5"> 0.2</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.toggle.active</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.toggle::after</span><span class="s1">{</span><span class="s5">content</span><span class="s1">:</span><span class="s4">''</span><span class="s1">;</span><span class="s5">position</span><span class="s1">:</span><span class="s5">absolute</span><span class="s1">;</span><span class="s5">width</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">50</span><span class="s6">%</span><span class="s1">;</span><span class="s5">top</span><span class="s1">:</span><span class="s5">2</span><span class="s6">px</span><span class="s1">;</span><span class="s5">left</span><span class="s1">:</span><span class="s5">2</span><span class="s6">px</span><span class="s1">;</span><span class="s5">transition</span><span class="s1">:transform </span><span class="s5">0.2</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.toggle.active::after</span><span class="s1">{</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">translateX</span><span class="s1">(</span><span class="s5">20</span><span class="s6">px</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.alert</span><span class="s1">{</span><span class="s5">position</span><span class="s1">:</span><span class="s5">fixed</span><span class="s1">;</span><span class="s5">top</span><span class="s1">:</span><span class="s5">20</span><span class="s6">px</span><span class="s1">;</span><span class="s5">left</span><span class="s1">:</span><span class="s5">50</span><span class="s6">%</span><span class="s1">;</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">translateX</span><span class="s1">(</span><span class="s5">-50</span><span class="s6">%</span><span class="s1">);</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#ef4444</span><span class="s1">;</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s5"> 24</span><span class="s6">px</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">14</span><span class="s6">px</span><span class="s1">;</span><span class="s5">z-index</span><span class="s1">:</span><span class="s5">100</span><span class="s1">;</span><span class="s5">animation</span><span class="s1">:slideIn </span><span class="s5">0.3</span><span class="s6">s</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.alert.success</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#10b981</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.alert.warning</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#f59e0b</span><span class="s1">}</span><span class="s6"><span class="Apple-converted-space">      </span>@keyframes</span><span class="s8"> slideIn</span><span class="s1">{</span><span class="s3">from</span><span class="s1">{</span><span class="s5">opacity</span><span class="s1">:</span><span class="s5">0</span><span class="s1">;</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">translateX</span><span class="s1">(</span><span class="s5">-50</span><span class="s6">%</span><span class="s1">) </span><span class="s5">translateY</span><span class="s1">(</span><span class="s5">-20</span><span class="s6">px</span><span class="s1">)}</span><span class="s3">to</span><span class="s1">{</span><span class="s5">opacity</span><span class="s1">:</span><span class="s5">1</span><span class="s1">;</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">translateX</span><span class="s1">(</span><span class="s5">-50</span><span class="s6">%</span><span class="s1">) </span><span class="s5">translateY</span><span class="s1">(</span><span class="s5">0</span><span class="s1">)}}</span><span class="s6"><span class="Apple-converted-space">      </span>@keyframes</span><span class="s8"> pulse</span><span class="s1">{</span><span class="s3">0%</span><span class="s1">,</span><span class="s3">100%</span><span class="s1">{</span><span class="s5">opacity</span><span class="s1">:</span><span class="s5">1</span><span class="s1">}</span><span class="s3">50%</span><span class="s1">{</span><span class="s5">opacity</span><span class="s1">:</span><span class="s5">0.5</span><span class="s1">}}</span><span class="s3"><span class="Apple-converted-space">      </span>.pulsing</span><span class="s1">{</span><span class="s5">animation</span><span class="s1">:pulse </span><span class="s5">2</span><span class="s6">s</span><span class="s5"> infinite</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.face-down-indicator</span><span class="s1">{</span><span class="s5">position</span><span class="s1">:</span><span class="s5">fixed</span><span class="s1">;</span><span class="s5">top</span><span class="s1">:</span><span class="s5">80</span><span class="s6">px</span><span class="s1">;</span><span class="s5">left</span><span class="s1">:</span><span class="s5">50</span><span class="s6">%</span><span class="s1">;</span><span class="s5">transform</span><span class="s1">:</span><span class="s5">translateX</span><span class="s1">(</span><span class="s5">-50</span><span class="s6">%</span><span class="s1">);</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">239</span><span class="s1">,</span><span class="s5">68</span><span class="s1">,</span><span class="s5">68</span><span class="s1">,</span><span class="s5">0.9</span><span class="s1">);</span><span class="s5">color</span><span class="s1">:</span><span class="s5">#fff</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s5"> 16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">20</span><span class="s6">px</span><span class="s1">;</span><span class="s5">font-size</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">align-items</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.face-down-indicator.ok</span><span class="s1">{</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">16</span><span class="s1">,</span><span class="s5">185</span><span class="s1">,</span><span class="s5">129</span><span class="s1">,</span><span class="s5">0.9</span><span class="s1">)}</span><span class="s3"><span class="Apple-converted-space">      </span>.volume-control</span><span class="s1">{</span><span class="s5">position</span><span class="s1">:</span><span class="s5">absolute</span><span class="s1">;</span><span class="s5">top</span><span class="s1">:</span><span class="s5">60</span><span class="s6">px</span><span class="s1">;</span><span class="s5">right</span><span class="s1">:</span><span class="s5">20</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">30</span><span class="s1">,</span><span class="s5">41</span><span class="s1">,</span><span class="s5">59</span><span class="s1">,</span><span class="s5">0.95</span><span class="s1">);</span><span class="s5">border</span><span class="s1">:</span><span class="s5">1</span><span class="s6">px</span><span class="s5"> solid rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.2</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">padding</span><span class="s1">:</span><span class="s5">12</span><span class="s6">px</span><span class="s1">;</span><span class="s5">display</span><span class="s1">:</span><span class="s5">flex</span><span class="s1">;</span><span class="s5">flex-direction</span><span class="s1">:</span><span class="s5">column</span><span class="s1">;</span><span class="s5">align-items</span><span class="s1">:</span><span class="s5">center</span><span class="s1">;</span><span class="s5">gap</span><span class="s1">:</span><span class="s5">8</span><span class="s6">px</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.volume-slider</span><span class="s1">{</span><span class="s5">width</span><span class="s1">:</span><span class="s5">100</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">4</span><span class="s6">px</span><span class="s1">;</span><span class="s5">-webkit-appearance</span><span class="s1">:</span><span class="s5">none</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">rgba</span><span class="s1">(</span><span class="s5">6</span><span class="s1">,</span><span class="s5">182</span><span class="s1">,</span><span class="s5">212</span><span class="s1">,</span><span class="s5">0.2</span><span class="s1">);</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">2</span><span class="s6">px</span><span class="s1">;</span><span class="s5">outline</span><span class="s1">:</span><span class="s5">none</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.volume-slider::-webkit-slider-thumb</span><span class="s1">{</span><span class="s5">-webkit-appearance</span><span class="s1">:</span><span class="s5">none</span><span class="s1">;</span><span class="s5">width</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">height</span><span class="s1">:</span><span class="s5">16</span><span class="s6">px</span><span class="s1">;</span><span class="s5">background</span><span class="s1">:</span><span class="s5">#06b6d4</span><span class="s1">;</span><span class="s5">border-radius</span><span class="s1">:</span><span class="s5">50</span><span class="s6">%</span><span class="s1">;</span><span class="s5">cursor</span><span class="s1">:</span><span class="s5">pointer</span><span class="s1">}</span><span class="s3"><span class="Apple-converted-space">      </span>.hidden</span><span class="s1">{</span><span class="s5">display</span><span class="s1">:</span><span class="s5">none</span><span class="s1">}<span class="Apple-converted-space">    </span>&lt;/</span><span class="s2">style</span><span class="s1">&gt;<span class="Apple-converted-space">  </span>&lt;/</span><span class="s2">head</span><span class="s1">&gt;<span class="Apple-converted-space">  </span>&lt;</span><span class="s2">body</span><span class="s1">&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">div</span><span class="s3"> id</span><span class="s1">=</span><span class="s4">"root"</span><span class="s1">&gt;&lt;/</span><span class="s2">div</span><span class="s1">&gt;<span class="Apple-converted-space">    </span>&lt;</span><span class="s2">script</span><span class="s1">&gt;</span><span class="s9"><span class="Apple-converted-space">      </span>// Synapse - Medical Study Focus App<span class="Apple-converted-space">      </span>// Complete standalone version</span><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s6"><span class="Apple-converted-space">      </span>const</span><span class="s5"> SUBJECTS</span><span class="s6"> =</span><span class="s1"> [<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'cardio'</span><span class="s1">, name: </span><span class="s4">'Cardiology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">❤️</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'heart'</span><span class="s1">, </span><span class="s4">'cardiac'</span><span class="s1">, </span><span class="s4">'coronary'</span><span class="s1">, </span><span class="s4">'myocardial'</span><span class="s1">, </span><span class="s4">'arrhythmia'</span><span class="s1">, </span><span class="s4">'murmur'</span><span class="s1">, </span><span class="s4">'valve'</span><span class="s1">, </span><span class="s4">'atrial'</span><span class="s1">, </span><span class="s4">'ventricular'</span><span class="s1">, </span><span class="s4">'ecg'</span><span class="s1">, </span><span class="s4">'ekg'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'neuro'</span><span class="s1">, name: </span><span class="s4">'Neurology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🧠</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'brain'</span><span class="s1">, </span><span class="s4">'neuron'</span><span class="s1">, </span><span class="s4">'synapse'</span><span class="s1">, </span><span class="s4">'cortex'</span><span class="s1">, </span><span class="s4">'cerebral'</span><span class="s1">, </span><span class="s4">'spinal'</span><span class="s1">, </span><span class="s4">'nerve'</span><span class="s1">, </span><span class="s4">'reflex'</span><span class="s1">, </span><span class="s4">'stroke'</span><span class="s1">, </span><span class="s4">'seizure'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'renal'</span><span class="s1">, name: </span><span class="s4">'Renal Physiology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🫘</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'kidney'</span><span class="s1">, </span><span class="s4">'nephron'</span><span class="s1">, </span><span class="s4">'glomerular'</span><span class="s1">, </span><span class="s4">'filtration'</span><span class="s1">, </span><span class="s4">'tubule'</span><span class="s1">, </span><span class="s4">'creatinine'</span><span class="s1">, </span><span class="s4">'urine'</span><span class="s1">, </span><span class="s4">'electrolyte'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'gi'</span><span class="s1">, name: </span><span class="s4">'Gastroenterology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🫁</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'stomach'</span><span class="s1">, </span><span class="s4">'intestine'</span><span class="s1">, </span><span class="s4">'liver'</span><span class="s1">, </span><span class="s4">'pancreas'</span><span class="s1">, </span><span class="s4">'digestion'</span><span class="s1">, </span><span class="s4">'enzyme'</span><span class="s1">, </span><span class="s4">'bile'</span><span class="s1">, </span><span class="s4">'absorption'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'pulm'</span><span class="s1">, name: </span><span class="s4">'Pulmonology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🫁</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'lung'</span><span class="s1">, </span><span class="s4">'respiratory'</span><span class="s1">, </span><span class="s4">'bronchi'</span><span class="s1">, </span><span class="s4">'alveoli'</span><span class="s1">, </span><span class="s4">'oxygen'</span><span class="s1">, </span><span class="s4">'ventilation'</span><span class="s1">, </span><span class="s4">'asthma'</span><span class="s1">, </span><span class="s4">'copd'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'pharm'</span><span class="s1">, name: </span><span class="s4">'Pharmacology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">💊</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'drug'</span><span class="s1">, </span><span class="s4">'receptor'</span><span class="s1">, </span><span class="s4">'agonist'</span><span class="s1">, </span><span class="s4">'antagonist'</span><span class="s1">, </span><span class="s4">'dose'</span><span class="s1">, </span><span class="s4">'mechanism'</span><span class="s1">, </span><span class="s4">'side effect'</span><span class="s1">, </span><span class="s4">'metabolism'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'micro'</span><span class="s1">, name: </span><span class="s4">'Microbiology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🦠</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'bacteria'</span><span class="s1">, </span><span class="s4">'virus'</span><span class="s1">, </span><span class="s4">'infection'</span><span class="s1">, </span><span class="s4">'antibiotic'</span><span class="s1">, </span><span class="s4">'gram'</span><span class="s1">, </span><span class="s4">'culture'</span><span class="s1">, </span><span class="s4">'pathogen'</span><span class="s1">, </span><span class="s4">'immune'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'biochem'</span><span class="s1">, name: </span><span class="s4">'Biochemistry'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🧬</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'enzyme'</span><span class="s1">, </span><span class="s4">'protein'</span><span class="s1">, </span><span class="s4">'metabolism'</span><span class="s1">, </span><span class="s4">'atp'</span><span class="s1">, </span><span class="s4">'glucose'</span><span class="s1">, </span><span class="s4">'lipid'</span><span class="s1">, </span><span class="s4">'amino acid'</span><span class="s1">, </span><span class="s4">'pathway'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'immuno'</span><span class="s1">, name: </span><span class="s4">'Immunology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🛡️</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'antibody'</span><span class="s1">, </span><span class="s4">'antigen'</span><span class="s1">, </span><span class="s4">'lymphocyte'</span><span class="s1">, </span><span class="s4">'cytokine'</span><span class="s1">, </span><span class="s4">'complement'</span><span class="s1">, </span><span class="s4">'immunity'</span><span class="s1">, </span><span class="s4">'inflammation'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'anatomy'</span><span class="s1">, name: </span><span class="s4">'Anatomy'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🦴</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'bone'</span><span class="s1">, </span><span class="s4">'muscle'</span><span class="s1">, </span><span class="s4">'organ'</span><span class="s1">, </span><span class="s4">'tissue'</span><span class="s1">, </span><span class="s4">'vessel'</span><span class="s1">, </span><span class="s4">'nerve'</span><span class="s1">, </span><span class="s4">'structure'</span><span class="s1">, </span><span class="s4">'body'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'path'</span><span class="s1">, name: </span><span class="s4">'Pathology'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🔬</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'disease'</span><span class="s1">, </span><span class="s4">'lesion'</span><span class="s1">, </span><span class="s4">'neoplasm'</span><span class="s1">, </span><span class="s4">'inflammation'</span><span class="s1">, </span><span class="s4">'necrosis'</span><span class="s1">, </span><span class="s4">'biopsy'</span><span class="s1">, </span><span class="s4">'diagnosis'</span><span class="s1">] },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'anki'</span><span class="s1">, name: </span><span class="s4">'Anki Review'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">📚</span><span class="s4">'</span><span class="s1">, keywords: [</span><span class="s4">'review'</span><span class="s1">, </span><span class="s4">'card'</span><span class="s1">, </span><span class="s4">'recall'</span><span class="s1">, </span><span class="s4">'memory'</span><span class="s1">, </span><span class="s4">'spaced'</span><span class="s1">, </span><span class="s4">'repetition'</span><span class="s1">] }<span class="Apple-converted-space">      </span>];</span><span class="s6"><span class="Apple-converted-space">      </span>const</span><span class="s5"> TIMER_PRESETS</span><span class="s6"> =</span><span class="s1"> [<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'standard'</span><span class="s1">, name: </span><span class="s4">'Standard'</span><span class="s1">, work: </span><span class="s5">25</span><span class="s1">, break: </span><span class="s5">5</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'block'</span><span class="s1">, name: </span><span class="s4">'Block Exam'</span><span class="s1">, work: </span><span class="s5">60</span><span class="s1">, break: </span><span class="s5">10</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'anki'</span><span class="s1">, name: </span><span class="s4">'Anki Grind'</span><span class="s1">, work: </span><span class="s5">10</span><span class="s1">, break: </span><span class="s5">2</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'deep'</span><span class="s1">, name: </span><span class="s4">'Deep Work'</span><span class="s1">, work: </span><span class="s5">50</span><span class="s1">, break: </span><span class="s5">10</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'marathon'</span><span class="s1">, name: </span><span class="s4">'Marathon'</span><span class="s1">, work: </span><span class="s5">90</span><span class="s1">, break: </span><span class="s5">20</span><span class="s1"> }<span class="Apple-converted-space">      </span>];</span><span class="s6"><span class="Apple-converted-space">      </span>const</span><span class="s5"> RANKS</span><span class="s6"> =</span><span class="s1"> [<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'Pre-med'</span><span class="s1">, minHours: </span><span class="s5">0</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">📖</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'M1'</span><span class="s1">, minHours: </span><span class="s5">10</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🩺</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'M2'</span><span class="s1">, minHours: </span><span class="s5">25</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">📋</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'Clinical Clerk'</span><span class="s1">, minHours: </span><span class="s5">50</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">👨‍⚕️</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'Intern'</span><span class="s1">, minHours: </span><span class="s5">100</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">💉</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'Resident'</span><span class="s1">, minHours: </span><span class="s5">200</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🏥</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'Fellow'</span><span class="s1">, minHours: </span><span class="s5">350</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🎓</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'Attending'</span><span class="s1">, minHours: </span><span class="s5">500</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">⭐</span><span class="s4">'</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ name: </span><span class="s4">'Department Chair'</span><span class="s1">, minHours: </span><span class="s5">1000</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">👑</span><span class="s4">'</span><span class="s1"> }<span class="Apple-converted-space">      </span>];</span><span class="s6"><span class="Apple-converted-space">      </span>const</span><span class="s5"> BADGES</span><span class="s6"> =</span><span class="s1"> [<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'first'</span><span class="s1">, name: </span><span class="s4">'First Steps'</span><span class="s1">, desc: </span><span class="s4">'Complete first session'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🎯</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.totalSessions </span><span class="s6">&gt;=</span><span class="s5"> 1</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'week'</span><span class="s1">, name: </span><span class="s4">'Week Warrior'</span><span class="s1">, desc: </span><span class="s4">'7 day streak'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🔥</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.currentStreak </span><span class="s6">&gt;=</span><span class="s5"> 7</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'neuro50'</span><span class="s1">, name: </span><span class="s4">'The Neurologist'</span><span class="s1">, desc: </span><span class="s4">'50 hours of Neuro'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🧠</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> (s.subjectHours?.neuro </span><span class="s6">||</span><span class="s5"> 0</span><span class="s1">) </span><span class="s6">&gt;=</span><span class="s5"> 50</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'cardio50'</span><span class="s1">, name: </span><span class="s4">'The Cardiologist'</span><span class="s1">, desc: </span><span class="s4">'50 hours of Cardio'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">❤️</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> (s.subjectHours?.cardio </span><span class="s6">||</span><span class="s5"> 0</span><span class="s1">) </span><span class="s6">&gt;=</span><span class="s5"> 50</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'perfect10'</span><span class="s1">, name: </span><span class="s4">'Perfect 10'</span><span class="s1">, desc: </span><span class="s4">'10 perfect exit tickets'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">✨</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.perfectExits </span><span class="s6">&gt;=</span><span class="s5"> 10</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'night'</span><span class="s1">, name: </span><span class="s4">'Night Owl'</span><span class="s1">, desc: </span><span class="s4">'Study after midnight'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🦉</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.nightOwl },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'early'</span><span class="s1">, name: </span><span class="s4">'Early Bird'</span><span class="s1">, desc: </span><span class="s4">'Study before 6am'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🌅</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.earlyBird },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'marathon'</span><span class="s1">, name: </span><span class="s4">'Marathon Runner'</span><span class="s1">, desc: </span><span class="s4">'Complete 90min session'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🏃</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.marathonComplete },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'century'</span><span class="s1">, name: </span><span class="s4">'Centurion'</span><span class="s1">, desc: </span><span class="s4">'100 sessions'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">💯</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.totalSessions </span><span class="s6">&gt;=</span><span class="s5"> 100</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'master'</span><span class="s1">, name: </span><span class="s4">'Master'</span><span class="s1">, desc: </span><span class="s4">'500 total hours'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🏆</span><span class="s4">'</span><span class="s1">, </span><span class="s3">check</span><span class="s1">: </span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.totalHours </span><span class="s6">&gt;=</span><span class="s5"> 500</span><span class="s1"> }<span class="Apple-converted-space">      </span>];</span><span class="s6"><span class="Apple-converted-space">      </span>const</span><span class="s5"> VAULT_APPS</span><span class="s6"> =</span><span class="s1"> [<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'instagram'</span><span class="s1">, name: </span><span class="s4">'Instagram'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">📷</span><span class="s4">'</span><span class="s1">, cost: </span><span class="s5">15</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'netflix'</span><span class="s1">, name: </span><span class="s4">'Netflix'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🎬</span><span class="s4">'</span><span class="s1">, cost: </span><span class="s5">30</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'youtube'</span><span class="s1">, name: </span><span class="s4">'YouTube'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">▶️</span><span class="s4">'</span><span class="s1">, cost: </span><span class="s5">20</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'twitter'</span><span class="s1">, name: </span><span class="s4">'Twitter'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🐦</span><span class="s4">'</span><span class="s1">, cost: </span><span class="s5">10</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'tiktok'</span><span class="s1">, name: </span><span class="s4">'TikTok'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🎵</span><span class="s4">'</span><span class="s1">, cost: </span><span class="s5">15</span><span class="s1"> },<span class="Apple-converted-space">        </span>{ id: </span><span class="s4">'games'</span><span class="s1">, name: </span><span class="s4">'Games'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🎮</span><span class="s4">'</span><span class="s1">, cost: </span><span class="s5">30</span><span class="s1"> }<span class="Apple-converted-space">      </span>];</span><span class="s9"><span class="Apple-converted-space">      </span>// State</span><span class="s6"><span class="Apple-converted-space">      </span>let</span><span class="s1"> state </span><span class="s6">=</span><span class="s1"> {<span class="Apple-converted-space">        </span>screen: </span><span class="s4">'home'</span><span class="s1">,<span class="Apple-converted-space">        </span>selectedSubject: </span><span class="s5">SUBJECTS</span><span class="s1">[</span><span class="s5">0</span><span class="s1">].id,<span class="Apple-converted-space">        </span>selectedPreset: </span><span class="s5">TIMER_PRESETS</span><span class="s1">[</span><span class="s5">0</span><span class="s1">].id,<span class="Apple-converted-space">        </span>timerState: </span><span class="s4">'idle'</span><span class="s1">, </span><span class="s9">// idle, running, paused, break, exitTicket</span><span class="s1"><span class="Apple-converted-space">        </span>timeRemaining: </span><span class="s5">TIMER_PRESETS</span><span class="s1">[</span><span class="s5">0</span><span class="s1">].work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">,<span class="Apple-converted-space">        </span>isBreak: </span><span class="s5">false</span><span class="s1">,<span class="Apple-converted-space">        </span>exitTicketText: </span><span class="s4">''</span><span class="s1">,<span class="Apple-converted-space">        </span>faceDown: </span><span class="s5">false</span><span class="s1">,<span class="Apple-converted-space">        </span>faceDownWarning: </span><span class="s5">false</span><span class="s1">,<span class="Apple-converted-space">        </span>audioEnvironment: </span><span class="s4">'silent'</span><span class="s1">,<span class="Apple-converted-space">        </span>volume: </span><span class="s5">0.5</span><span class="s1">,<span class="Apple-converted-space">        </span>showVolume: </span><span class="s5">false</span><span class="s1">,<span class="Apple-converted-space">        </span>strictnessLevel: </span><span class="s4">'intern'</span><span class="s1">,<span class="Apple-converted-space">        </span>stats: </span><span class="s3">loadStats</span><span class="s1">(),<span class="Apple-converted-space">        </span>sessions: </span><span class="s3">loadSessions</span><span class="s1">(),<span class="Apple-converted-space">        </span>alert: </span><span class="s5">null</span><span class="s1"><span class="Apple-converted-space">      </span>};</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> loadStats</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>try</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">          </span>return</span><span class="s5"> JSON</span><span class="s1">.</span><span class="s3">parse</span><span class="s1">(localStorage.</span><span class="s3">getItem</span><span class="s1">(</span><span class="s4">'synapse_stats'</span><span class="s1">)) </span><span class="s6">||</span><span class="s1"> {<span class="Apple-converted-space">            </span>totalHours: </span><span class="s5">0</span><span class="s1">,<span class="Apple-converted-space">            </span>totalSessions: </span><span class="s5">0</span><span class="s1">,<span class="Apple-converted-space">            </span>currentStreak: </span><span class="s5">0</span><span class="s1">,<span class="Apple-converted-space">            </span>longestStreak: </span><span class="s5">0</span><span class="s1">,<span class="Apple-converted-space">            </span>vaultBalance: </span><span class="s5">0</span><span class="s1">,<span class="Apple-converted-space">            </span>perfectExits: </span><span class="s5">0</span><span class="s1">,<span class="Apple-converted-space">            </span>subjectHours: {},<span class="Apple-converted-space">            </span>nightOwl: </span><span class="s5">false</span><span class="s1">,<span class="Apple-converted-space">            </span>earlyBird: </span><span class="s5">false</span><span class="s1">,<span class="Apple-converted-space">            </span>marathonComplete: </span><span class="s5">false</span><span class="s1"><span class="Apple-converted-space">          </span>};<span class="Apple-converted-space">        </span>} </span><span class="s6">catch</span><span class="s1"> { </span><span class="s6">return</span><span class="s1"> { totalHours: </span><span class="s5">0</span><span class="s1">, totalSessions: </span><span class="s5">0</span><span class="s1">, currentStreak: </span><span class="s5">0</span><span class="s1">, longestStreak: </span><span class="s5">0</span><span class="s1">, vaultBalance: </span><span class="s5">0</span><span class="s1">, perfectExits: </span><span class="s5">0</span><span class="s1">, subjectHours: {} }; }<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> loadSessions</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>try</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">          </span>return</span><span class="s5"> JSON</span><span class="s1">.</span><span class="s3">parse</span><span class="s1">(localStorage.</span><span class="s3">getItem</span><span class="s1">(</span><span class="s4">'synapse_sessions'</span><span class="s1">)) </span><span class="s6">||</span><span class="s1"> [];<span class="Apple-converted-space">        </span>} </span><span class="s6">catch</span><span class="s1"> { </span><span class="s6">return</span><span class="s1"> []; }<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> saveData</span><span class="s1">() {<span class="Apple-converted-space">        </span>localStorage.</span><span class="s3">setItem</span><span class="s1">(</span><span class="s4">'synapse_stats'</span><span class="s1">, </span><span class="s5">JSON</span><span class="s1">.</span><span class="s3">stringify</span><span class="s1">(state.stats));<span class="Apple-converted-space">        </span>localStorage.</span><span class="s3">setItem</span><span class="s1">(</span><span class="s4">'synapse_sessions'</span><span class="s1">, </span><span class="s5">JSON</span><span class="s1">.</span><span class="s3">stringify</span><span class="s1">(state.sessions));<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> showAlert</span><span class="s1">(</span><span class="s8">message</span><span class="s1">, </span><span class="s8">type</span><span class="s6"> =</span><span class="s4"> 'error'</span><span class="s1">) {<span class="Apple-converted-space">        </span>state.alert </span><span class="s6">=</span><span class="s1"> { message, type };</span><span class="s3"><span class="Apple-converted-space">        </span>render</span><span class="s1">();</span><span class="s3"><span class="Apple-converted-space">        </span>setTimeout</span><span class="s1">(() </span><span class="s6">=&gt;</span><span class="s1"> { state.alert </span><span class="s6">=</span><span class="s5"> null</span><span class="s1">; </span><span class="s3">render</span><span class="s1">(); }, </span><span class="s5">3000</span><span class="s1">);<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> getCurrentRank</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> hours</span><span class="s6"> =</span><span class="s1"> state.stats.totalHours;</span><span class="s6"><span class="Apple-converted-space">        </span>for</span><span class="s1"> (</span><span class="s6">let</span><span class="s1"> i </span><span class="s6">=</span><span class="s5"> RANKS</span><span class="s1">.</span><span class="s5">length</span><span class="s6"> -</span><span class="s5"> 1</span><span class="s1">; i </span><span class="s6">&gt;=</span><span class="s5"> 0</span><span class="s1">; i</span><span class="s6">--</span><span class="s1">) {</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (hours </span><span class="s6">&gt;=</span><span class="s5"> RANKS</span><span class="s1">[i].minHours) </span><span class="s6">return</span><span class="s1"> { </span><span class="s6">...</span><span class="s5">RANKS</span><span class="s1">[i], index: i };<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s1"> { </span><span class="s6">...</span><span class="s5">RANKS</span><span class="s1">[</span><span class="s5">0</span><span class="s1">], index: </span><span class="s5">0</span><span class="s1"> };<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> getNextRank</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> current</span><span class="s6"> =</span><span class="s3"> getCurrentRank</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (current.index </span><span class="s6">&lt;</span><span class="s5"> RANKS</span><span class="s1">.</span><span class="s5">length</span><span class="s6"> -</span><span class="s5"> 1</span><span class="s1">) </span><span class="s6">return</span><span class="s5"> RANKS</span><span class="s1">[current.index </span><span class="s6">+</span><span class="s5"> 1</span><span class="s1">];</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s5"> null</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> formatTime</span><span class="s1">(</span><span class="s8">seconds</span><span class="s1">) {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> m</span><span class="s6"> =</span><span class="s1"> Math.</span><span class="s3">floor</span><span class="s1">(seconds </span><span class="s6">/</span><span class="s5"> 60</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> s</span><span class="s6"> =</span><span class="s1"> seconds </span><span class="s6">%</span><span class="s5"> 60</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `${</span><span class="s1">m</span><span class="s4">.</span><span class="s3">toString</span><span class="s4">().</span><span class="s3">padStart</span><span class="s4">(</span><span class="s5">2</span><span class="s4">, '0')}:${</span><span class="s1">s</span><span class="s4">.</span><span class="s3">toString</span><span class="s4">().</span><span class="s3">padStart</span><span class="s4">(</span><span class="s5">2</span><span class="s4">, '0')}`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> getPreset</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s5"> TIMER_PRESETS</span><span class="s1">.</span><span class="s3">find</span><span class="s1">(</span><span class="s8">p</span><span class="s6"> =&gt;</span><span class="s1"> p.id </span><span class="s6">===</span><span class="s1"> state.selectedPreset) </span><span class="s6">||</span><span class="s5"> TIMER_PRESETS</span><span class="s1">[</span><span class="s5">0</span><span class="s1">];<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> getSubject</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s5"> SUBJECTS</span><span class="s1">.</span><span class="s3">find</span><span class="s1">(</span><span class="s8">s</span><span class="s6"> =&gt;</span><span class="s1"> s.id </span><span class="s6">===</span><span class="s1"> state.selectedSubject) </span><span class="s6">||</span><span class="s5"> SUBJECTS</span><span class="s1">[</span><span class="s5">0</span><span class="s1">];<span class="Apple-converted-space">      </span>}</span><span class="s9"><span class="Apple-converted-space">      </span>// Audio Engine</span><span class="s6"><span class="Apple-converted-space">      </span>let</span><span class="s1"> audioContext </span><span class="s6">=</span><span class="s5"> null</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">      </span>let</span><span class="s1"> audioNodes </span><span class="s6">=</span><span class="s1"> [];</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> startAudio</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (state.audioEnvironment </span><span class="s6">===</span><span class="s4"> 'silent'</span><span class="s1">) </span><span class="s6">return</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">        </span>stopAudio</span><span class="s1">();<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>try</span><span class="s1"> {<span class="Apple-converted-space">          </span>audioContext </span><span class="s6">= new</span><span class="s1"> (window.AudioContext </span><span class="s6">||</span><span class="s1"> window.webkitAudioContext)();</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> gainNode</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createGain</span><span class="s1">();<span class="Apple-converted-space">          </span>gainNode.gain.value </span><span class="s6">=</span><span class="s1"> state.volume </span><span class="s6">*</span><span class="s5"> 0.3</span><span class="s1">;<span class="Apple-converted-space">          </span>gainNode.</span><span class="s3">connect</span><span class="s1">(audioContext.destination);</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (state.audioEnvironment </span><span class="s6">===</span><span class="s4"> 'brown'</span><span class="s1">) {</span><span class="s9"><span class="Apple-converted-space">            </span>// Brown noise</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> bufferSize</span><span class="s6"> =</span><span class="s5"> 2</span><span class="s6"> *</span><span class="s1"> audioContext.sampleRate;</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> buffer</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBuffer</span><span class="s1">(</span><span class="s5">1</span><span class="s1">, bufferSize, audioContext.sampleRate);</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> data</span><span class="s6"> =</span><span class="s1"> buffer.</span><span class="s3">getChannelData</span><span class="s1">(</span><span class="s5">0</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">            </span>let</span><span class="s1"> lastOut </span><span class="s6">=</span><span class="s5"> 0</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">            </span>for</span><span class="s1"> (</span><span class="s6">let</span><span class="s1"> i </span><span class="s6">=</span><span class="s5"> 0</span><span class="s1">; i </span><span class="s6">&lt;</span><span class="s1"> bufferSize; i</span><span class="s6">++</span><span class="s1">) {</span><span class="s6"><span class="Apple-converted-space">              </span>const</span><span class="s5"> white</span><span class="s6"> =</span><span class="s1"> Math.</span><span class="s3">random</span><span class="s1">() </span><span class="s6">*</span><span class="s5"> 2</span><span class="s6"> -</span><span class="s5"> 1</span><span class="s1">;<span class="Apple-converted-space">              </span>data[i] </span><span class="s6">=</span><span class="s1"> (lastOut </span><span class="s6">+</span><span class="s1"> (</span><span class="s5">0.02</span><span class="s6"> *</span><span class="s1"> white)) </span><span class="s6">/</span><span class="s5"> 1.02</span><span class="s1">;<span class="Apple-converted-space">              </span>lastOut </span><span class="s6">=</span><span class="s1"> data[i];<span class="Apple-converted-space">              </span>data[i] </span><span class="s6">*=</span><span class="s5"> 3.5</span><span class="s1">;<span class="Apple-converted-space">            </span>}</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> source</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBufferSource</span><span class="s1">();<span class="Apple-converted-space">            </span>source.buffer </span><span class="s6">=</span><span class="s1"> buffer;<span class="Apple-converted-space">            </span>source.loop </span><span class="s6">=</span><span class="s5"> true</span><span class="s1">;<span class="Apple-converted-space">            </span>source.</span><span class="s3">connect</span><span class="s1">(gainNode);<span class="Apple-converted-space">            </span>source.</span><span class="s3">start</span><span class="s1">();<span class="Apple-converted-space">            </span>audioNodes.</span><span class="s3">push</span><span class="s1">(source);<span class="Apple-converted-space">          </span>} </span><span class="s6">else if</span><span class="s1"> (state.audioEnvironment </span><span class="s6">===</span><span class="s4"> 'rain'</span><span class="s1">) {</span><span class="s9"><span class="Apple-converted-space">            </span>// Rain-like noise</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> bufferSize</span><span class="s6"> =</span><span class="s5"> 2</span><span class="s6"> *</span><span class="s1"> audioContext.sampleRate;</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> buffer</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBuffer</span><span class="s1">(</span><span class="s5">1</span><span class="s1">, bufferSize, audioContext.sampleRate);</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> data</span><span class="s6"> =</span><span class="s1"> buffer.</span><span class="s3">getChannelData</span><span class="s1">(</span><span class="s5">0</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">            </span>for</span><span class="s1"> (</span><span class="s6">let</span><span class="s1"> i </span><span class="s6">=</span><span class="s5"> 0</span><span class="s1">; i </span><span class="s6">&lt;</span><span class="s1"> bufferSize; i</span><span class="s6">++</span><span class="s1">) {<span class="Apple-converted-space">              </span>data[i] </span><span class="s6">=</span><span class="s1"> (Math.</span><span class="s3">random</span><span class="s1">() </span><span class="s6">*</span><span class="s5"> 2</span><span class="s6"> -</span><span class="s5"> 1</span><span class="s1">) </span><span class="s6">*</span><span class="s5"> 0.5</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">              </span>if</span><span class="s1"> (Math.</span><span class="s3">random</span><span class="s1">() </span><span class="s6">&lt;</span><span class="s5"> 0.001</span><span class="s1">) data[i] </span><span class="s6">*=</span><span class="s5"> 3</span><span class="s1">;<span class="Apple-converted-space">            </span>}</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> source</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBufferSource</span><span class="s1">();<span class="Apple-converted-space">            </span>source.buffer </span><span class="s6">=</span><span class="s1"> buffer;<span class="Apple-converted-space">            </span>source.loop </span><span class="s6">=</span><span class="s5"> true</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> filter</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBiquadFilter</span><span class="s1">();<span class="Apple-converted-space">            </span>filter.type </span><span class="s6">=</span><span class="s4"> 'lowpass'</span><span class="s1">;<span class="Apple-converted-space">            </span>filter.frequency.value </span><span class="s6">=</span><span class="s5"> 1000</span><span class="s1">;<span class="Apple-converted-space">            </span>source.</span><span class="s3">connect</span><span class="s1">(filter);<span class="Apple-converted-space">            </span>filter.</span><span class="s3">connect</span><span class="s1">(gainNode);<span class="Apple-converted-space">            </span>source.</span><span class="s3">start</span><span class="s1">();<span class="Apple-converted-space">            </span>audioNodes.</span><span class="s3">push</span><span class="s1">(source);<span class="Apple-converted-space">          </span>} </span><span class="s6">else if</span><span class="s1"> (state.audioEnvironment </span><span class="s6">===</span><span class="s4"> 'library'</span><span class="s6"> ||</span><span class="s1"> state.audioEnvironment </span><span class="s6">===</span><span class="s4"> 'coffee'</span><span class="s1">) {</span><span class="s9"><span class="Apple-converted-space">            </span>// Ambient noise</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> bufferSize</span><span class="s6"> =</span><span class="s5"> 2</span><span class="s6"> *</span><span class="s1"> audioContext.sampleRate;</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> buffer</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBuffer</span><span class="s1">(</span><span class="s5">1</span><span class="s1">, bufferSize, audioContext.sampleRate);</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> data</span><span class="s6"> =</span><span class="s1"> buffer.</span><span class="s3">getChannelData</span><span class="s1">(</span><span class="s5">0</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">            </span>for</span><span class="s1"> (</span><span class="s6">let</span><span class="s1"> i </span><span class="s6">=</span><span class="s5"> 0</span><span class="s1">; i </span><span class="s6">&lt;</span><span class="s1"> bufferSize; i</span><span class="s6">++</span><span class="s1">) {<span class="Apple-converted-space">              </span>data[i] </span><span class="s6">=</span><span class="s1"> (Math.</span><span class="s3">random</span><span class="s1">() </span><span class="s6">*</span><span class="s5"> 2</span><span class="s6"> -</span><span class="s5"> 1</span><span class="s1">) </span><span class="s6">*</span><span class="s5"> 0.15</span><span class="s1">;<span class="Apple-converted-space">            </span>}</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> source</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBufferSource</span><span class="s1">();<span class="Apple-converted-space">            </span>source.buffer </span><span class="s6">=</span><span class="s1"> buffer;<span class="Apple-converted-space">            </span>source.loop </span><span class="s6">=</span><span class="s5"> true</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> filter</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createBiquadFilter</span><span class="s1">();<span class="Apple-converted-space">            </span>filter.type </span><span class="s6">=</span><span class="s4"> 'lowpass'</span><span class="s1">;<span class="Apple-converted-space">            </span>filter.frequency.value </span><span class="s6">=</span><span class="s1"> state.audioEnvironment </span><span class="s6">===</span><span class="s4"> 'library'</span><span class="s6"> ?</span><span class="s5"> 400</span><span class="s6"> :</span><span class="s5"> 800</span><span class="s1">;<span class="Apple-converted-space">            </span>source.</span><span class="s3">connect</span><span class="s1">(filter);<span class="Apple-converted-space">            </span>filter.</span><span class="s3">connect</span><span class="s1">(gainNode);<span class="Apple-converted-space">            </span>source.</span><span class="s3">start</span><span class="s1">();<span class="Apple-converted-space">            </span>audioNodes.</span><span class="s3">push</span><span class="s1">(source);<span class="Apple-converted-space">          </span>}<span class="Apple-converted-space">        </span>} </span><span class="s6">catch</span><span class="s1"> (e) {<span class="Apple-converted-space">          </span>console.</span><span class="s3">error</span><span class="s1">(</span><span class="s4">'Audio error:'</span><span class="s1">, e);<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> stopAudio</span><span class="s1">() {<span class="Apple-converted-space">        </span>audioNodes.</span><span class="s3">forEach</span><span class="s1">(</span><span class="s8">node</span><span class="s6"> =&gt;</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">          </span>try</span><span class="s1"> { node.</span><span class="s3">stop</span><span class="s1">(); } </span><span class="s6">catch</span><span class="s1"> {}<span class="Apple-converted-space">        </span>});<span class="Apple-converted-space">        </span>audioNodes </span><span class="s6">=</span><span class="s1"> [];</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (audioContext) {</span><span class="s6"><span class="Apple-converted-space">          </span>try</span><span class="s1"> { audioContext.</span><span class="s3">close</span><span class="s1">(); } </span><span class="s6">catch</span><span class="s1"> {}<span class="Apple-converted-space">          </span>audioContext </span><span class="s6">=</span><span class="s5"> null</span><span class="s1">;<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> updateVolume</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (audioContext) {</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> gainNode</span><span class="s6"> =</span><span class="s1"> audioContext.</span><span class="s3">createGain</span><span class="s1">();<span class="Apple-converted-space">          </span>gainNode.gain.value </span><span class="s6">=</span><span class="s1"> state.volume </span><span class="s6">*</span><span class="s5"> 0.3</span><span class="s1">;<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">      </span>}</span><span class="s9"><span class="Apple-converted-space">      </span>// Timer</span><span class="s6"><span class="Apple-converted-space">      </span>let</span><span class="s1"> timerInterval </span><span class="s6">=</span><span class="s5"> null</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> startTimer</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (state.timerState </span><span class="s6">===</span><span class="s4"> 'running'</span><span class="s1">) </span><span class="s6">return</span><span class="s1">;<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (state.timerState </span><span class="s6">===</span><span class="s4"> 'idle'</span><span class="s1">) {<span class="Apple-converted-space">          </span>state.timeRemaining </span><span class="s6">=</span><span class="s3"> getPreset</span><span class="s1">().work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;<span class="Apple-converted-space">          </span>state.isBreak </span><span class="s6">=</span><span class="s5"> false</span><span class="s1">;<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">                </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'running'</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">        </span>startAudio</span><span class="s1">();<span class="Apple-converted-space">                </span>timerInterval </span><span class="s6">=</span><span class="s3"> setInterval</span><span class="s1">(() </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">          </span>state.timeRemaining</span><span class="s6">--</span><span class="s1">;<span class="Apple-converted-space">          </span></span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (state.timeRemaining </span><span class="s6">&lt;=</span><span class="s5"> 0</span><span class="s1">) {</span><span class="s3"><span class="Apple-converted-space">            </span>clearInterval</span><span class="s1">(timerInterval);</span><span class="s3"><span class="Apple-converted-space">            </span>stopAudio</span><span class="s1">();<span class="Apple-converted-space">            </span></span><span class="s6"><span class="Apple-converted-space">            </span>if</span><span class="s1"> (state.isBreak) {<span class="Apple-converted-space">              </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'idle'</span><span class="s1">;<span class="Apple-converted-space">              </span>state.timeRemaining </span><span class="s6">=</span><span class="s3"> getPreset</span><span class="s1">().work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;<span class="Apple-converted-space">              </span>state.isBreak </span><span class="s6">=</span><span class="s5"> false</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">              </span>showAlert</span><span class="s1">(</span><span class="s4">'Break over! Ready for next session.'</span><span class="s1">, </span><span class="s4">'success'</span><span class="s1">);<span class="Apple-converted-space">            </span>} </span><span class="s6">else</span><span class="s1"> {<span class="Apple-converted-space">              </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'exitTicket'</span><span class="s1">;<span class="Apple-converted-space">              </span>state.exitTicketText </span><span class="s6">=</span><span class="s4"> ''</span><span class="s1">;<span class="Apple-converted-space">            </span>}<span class="Apple-converted-space">          </span>}<span class="Apple-converted-space">          </span></span><span class="s3"><span class="Apple-converted-space">          </span>render</span><span class="s1">();<span class="Apple-converted-space">        </span>}, </span><span class="s5">1000</span><span class="s1">);<span class="Apple-converted-space">        </span></span><span class="s3"><span class="Apple-converted-space">        </span>render</span><span class="s1">();<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> pauseTimer</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (state.strictnessLevel </span><span class="s6">!==</span><span class="s4"> 'intern'</span><span class="s1">) {</span><span class="s3"><span class="Apple-converted-space">          </span>showAlert</span><span class="s1">(</span><span class="s4">'Cannot pause in this strictness mode!'</span><span class="s1">, </span><span class="s4">'error'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">          </span>return</span><span class="s1">;<span class="Apple-converted-space">        </span>}</span><span class="s3"><span class="Apple-converted-space">        </span>clearInterval</span><span class="s1">(timerInterval);<span class="Apple-converted-space">        </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'paused'</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">        </span>stopAudio</span><span class="s1">();</span><span class="s3"><span class="Apple-converted-space">        </span>render</span><span class="s1">();<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> resetTimer</span><span class="s1">() {</span><span class="s3"><span class="Apple-converted-space">        </span>clearInterval</span><span class="s1">(timerInterval);<span class="Apple-converted-space">        </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'idle'</span><span class="s1">;<span class="Apple-converted-space">        </span>state.timeRemaining </span><span class="s6">=</span><span class="s3"> getPreset</span><span class="s1">().work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;<span class="Apple-converted-space">        </span>state.isBreak </span><span class="s6">=</span><span class="s5"> false</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">        </span>stopAudio</span><span class="s1">();</span><span class="s3"><span class="Apple-converted-space">        </span>render</span><span class="s1">();<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> validateExitTicket</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> text</span><span class="s6"> =</span><span class="s1"> state.exitTicketText.</span><span class="s3">toLowerCase</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> bullets</span><span class="s6"> =</span><span class="s1"> text.</span><span class="s3">split</span><span class="s1">(</span><span class="s4">'</span><span class="s5">\n</span><span class="s4">'</span><span class="s1">).</span><span class="s3">filter</span><span class="s1">(</span><span class="s8">l</span><span class="s6"> =&gt;</span><span class="s1"> l.</span><span class="s3">trim</span><span class="s1">().</span><span class="s5">length</span><span class="s6"> &gt;</span><span class="s5"> 0</span><span class="s1">);<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (bullets.</span><span class="s5">length</span><span class="s6"> &lt;</span><span class="s5"> 3</span><span class="s1">) {</span><span class="s3"><span class="Apple-converted-space">          </span>showAlert</span><span class="s1">(</span><span class="s4">'Please enter at least 3 bullet points!'</span><span class="s1">, </span><span class="s4">'error'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">          </span>return</span><span class="s1">;<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> subject</span><span class="s6"> =</span><span class="s3"> getSubject</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> keywordsFound</span><span class="s6"> =</span><span class="s1"> subject.keywords.</span><span class="s3">filter</span><span class="s1">(</span><span class="s8">kw</span><span class="s6"> =&gt;</span><span class="s1"> text.</span><span class="s3">includes</span><span class="s1">(kw.</span><span class="s3">toLowerCase</span><span class="s1">()));</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> isValid</span><span class="s6"> =</span><span class="s1"> keywordsFound.</span><span class="s5">length</span><span class="s6"> &gt;=</span><span class="s5"> 2</span><span class="s6"> ||</span><span class="s1"> state.strictnessLevel </span><span class="s6">===</span><span class="s4"> 'intern'</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (isValid </span><span class="s6">||</span><span class="s1"> state.strictnessLevel </span><span class="s6">===</span><span class="s4"> 'intern'</span><span class="s1">) {</span><span class="s9"><span class="Apple-converted-space">          </span>// Success!</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> preset</span><span class="s6"> =</span><span class="s3"> getPreset</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> minutesStudied</span><span class="s6"> =</span><span class="s1"> preset.work;</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> hoursStudied</span><span class="s6"> =</span><span class="s1"> minutesStudied </span><span class="s6">/</span><span class="s5"> 60</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> earnedMinutes</span><span class="s6"> =</span><span class="s1"> Math.</span><span class="s3">floor</span><span class="s1">(minutesStudied </span><span class="s6">/</span><span class="s5"> 6</span><span class="s1">); </span><span class="s9">// 10 min per hour</span><span class="s1"><span class="Apple-converted-space">                    </span>state.stats.totalHours </span><span class="s6">+=</span><span class="s1"> hoursStudied;<span class="Apple-converted-space">          </span>state.stats.totalSessions</span><span class="s6">++</span><span class="s1">;<span class="Apple-converted-space">          </span>state.stats.vaultBalance </span><span class="s6">+=</span><span class="s1"> earnedMinutes;<span class="Apple-converted-space">          </span>state.stats.currentStreak</span><span class="s6">++</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (state.stats.currentStreak </span><span class="s6">&gt;</span><span class="s1"> state.stats.longestStreak) {<span class="Apple-converted-space">            </span>state.stats.longestStreak </span><span class="s6">=</span><span class="s1"> state.stats.currentStreak;<span class="Apple-converted-space">          </span>}</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (</span><span class="s6">!</span><span class="s1">state.stats.subjectHours[state.selectedSubject]) {<span class="Apple-converted-space">            </span>state.stats.subjectHours[state.selectedSubject] </span><span class="s6">=</span><span class="s5"> 0</span><span class="s1">;<span class="Apple-converted-space">          </span>}<span class="Apple-converted-space">          </span>state.stats.subjectHours[state.selectedSubject] </span><span class="s6">+=</span><span class="s1"> hoursStudied;<span class="Apple-converted-space">          </span></span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (keywordsFound.</span><span class="s5">length</span><span class="s6"> &gt;=</span><span class="s5"> 3</span><span class="s1">) {<span class="Apple-converted-space">            </span>state.stats.perfectExits </span><span class="s6">=</span><span class="s1"> (state.stats.perfectExits </span><span class="s6">||</span><span class="s5"> 0</span><span class="s1">) </span><span class="s6">+</span><span class="s5"> 1</span><span class="s1">;<span class="Apple-converted-space">          </span>}</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> hour</span><span class="s6"> = new</span><span class="s3"> Date</span><span class="s1">().</span><span class="s3">getHours</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (hour </span><span class="s6">&gt;=</span><span class="s5"> 0</span><span class="s6"> &amp;&amp;</span><span class="s1"> hour </span><span class="s6">&lt;</span><span class="s5"> 5</span><span class="s1">) state.stats.nightOwl </span><span class="s6">=</span><span class="s5"> true</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (hour </span><span class="s6">&gt;=</span><span class="s5"> 4</span><span class="s6"> &amp;&amp;</span><span class="s1"> hour </span><span class="s6">&lt;</span><span class="s5"> 6</span><span class="s1">) state.stats.earlyBird </span><span class="s6">=</span><span class="s5"> true</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (preset.work </span><span class="s6">&gt;=</span><span class="s5"> 90</span><span class="s1">) state.stats.marathonComplete </span><span class="s6">=</span><span class="s5"> true</span><span class="s1">;<span class="Apple-converted-space">          </span>state.sessions.</span><span class="s3">unshift</span><span class="s1">({<span class="Apple-converted-space">            </span>id: Date.</span><span class="s3">now</span><span class="s1">(),<span class="Apple-converted-space">            </span>subject: state.selectedSubject,<span class="Apple-converted-space">            </span>duration: minutesStudied,<span class="Apple-converted-space">            </span>date: </span><span class="s6">new</span><span class="s3"> Date</span><span class="s1">().</span><span class="s3">toISOString</span><span class="s1">(),<span class="Apple-converted-space">            </span>notes: state.exitTicketText,<span class="Apple-converted-space">            </span>passed: </span><span class="s5">true</span><span class="s1"><span class="Apple-converted-space">          </span>});</span><span class="s3"><span class="Apple-converted-space">          </span>saveData</span><span class="s1">();</span><span class="s3"><span class="Apple-converted-space">          </span>showAlert</span><span class="s1">(</span><span class="s4">`Session complete! +${</span><span class="s1">earnedMinutes</span><span class="s4">} vault minutes`</span><span class="s1">, </span><span class="s4">'success'</span><span class="s1">);<span class="Apple-converted-space">          </span></span><span class="s9"><span class="Apple-converted-space">          </span>// Start break</span><span class="s1"><span class="Apple-converted-space">          </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'break'</span><span class="s1">;<span class="Apple-converted-space">          </span>state.timeRemaining </span><span class="s6">=</span><span class="s1"> preset.break </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;<span class="Apple-converted-space">          </span>state.isBreak </span><span class="s6">=</span><span class="s5"> true</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">          </span>startTimer</span><span class="s1">();<span class="Apple-converted-space">        </span>} </span><span class="s6">else</span><span class="s1"> {</span><span class="s3"><span class="Apple-converted-space">          </span>showAlert</span><span class="s1">(</span><span class="s4">'Exit ticket validation failed. Try adding more relevant terms.'</span><span class="s1">, </span><span class="s4">'error'</span><span class="s1">);<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> skipExitTicket</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (state.strictnessLevel </span><span class="s6">!==</span><span class="s4"> 'intern'</span><span class="s1">) {</span><span class="s3"><span class="Apple-converted-space">          </span>showAlert</span><span class="s1">(</span><span class="s4">'Cannot skip in this strictness mode!'</span><span class="s1">, </span><span class="s4">'error'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">          </span>return</span><span class="s1">;<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">        </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'idle'</span><span class="s1">;<span class="Apple-converted-space">        </span>state.timeRemaining </span><span class="s6">=</span><span class="s3"> getPreset</span><span class="s1">().work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">        </span>render</span><span class="s1">();<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> unlockApp</span><span class="s1">(</span><span class="s8">app</span><span class="s1">) {</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (state.stats.vaultBalance </span><span class="s6">&gt;=</span><span class="s1"> app.cost) {<span class="Apple-converted-space">          </span>state.stats.vaultBalance </span><span class="s6">-=</span><span class="s1"> app.cost;</span><span class="s3"><span class="Apple-converted-space">          </span>saveData</span><span class="s1">();</span><span class="s3"><span class="Apple-converted-space">          </span>showAlert</span><span class="s1">(</span><span class="s4">`Unlocked ${</span><span class="s1">app</span><span class="s4">.</span><span class="s1">name</span><span class="s4">} for ${</span><span class="s1">app</span><span class="s4">.</span><span class="s1">cost</span><span class="s4">} minutes!`</span><span class="s1">, </span><span class="s4">'success'</span><span class="s1">);<span class="Apple-converted-space">        </span>} </span><span class="s6">else</span><span class="s1"> {</span><span class="s3"><span class="Apple-converted-space">          </span>showAlert</span><span class="s1">(</span><span class="s4">'Not enough vault balance!'</span><span class="s1">, </span><span class="s4">'error'</span><span class="s1">);<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">      </span>}</span><span class="s9"><span class="Apple-converted-space">      </span>// Render</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> render</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> root</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'root'</span><span class="s1">);<span class="Apple-converted-space">        </span>root.innerHTML </span><span class="s6">=</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="app"&gt;<span class="Apple-converted-space">            </span>${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">alert</span><span class="s6"> ?</span><span class="s4"> `&lt;div class="alert ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">alert</span><span class="s4">.</span><span class="s1">type</span><span class="s4">}"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">alert</span><span class="s4">.</span><span class="s1">message</span><span class="s4">}&lt;/div&gt;`</span><span class="s6"> :</span><span class="s4"> ''}<span class="Apple-converted-space">            </span>${</span><span class="s3">renderScreen</span><span class="s4">()}<span class="Apple-converted-space">            </span>${</span><span class="s3">renderNav</span><span class="s4">()}<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">        </span>attachEvents</span><span class="s1">();<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderScreen</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>switch</span><span class="s1"> (state.screen) {</span><span class="s6"><span class="Apple-converted-space">          </span>case</span><span class="s4"> 'home'</span><span class="s1">: </span><span class="s6">return</span><span class="s3"> renderHome</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>case</span><span class="s4"> 'timer'</span><span class="s1">: </span><span class="s6">return</span><span class="s3"> renderTimer</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>case</span><span class="s4"> 'dashboard'</span><span class="s1">: </span><span class="s6">return</span><span class="s3"> renderDashboard</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>case</span><span class="s4"> 'profile'</span><span class="s1">: </span><span class="s6">return</span><span class="s3"> renderProfile</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>case</span><span class="s4"> 'vault'</span><span class="s1">: </span><span class="s6">return</span><span class="s3"> renderVault</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>case</span><span class="s4"> 'settings'</span><span class="s1">: </span><span class="s6">return</span><span class="s3"> renderSettings</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>default</span><span class="s1">: </span><span class="s6">return</span><span class="s3"> renderHome</span><span class="s1">();<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderHome</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> rank</span><span class="s6"> =</span><span class="s3"> getCurrentRank</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="screen"&gt;<span class="Apple-converted-space">            </span>&lt;div class="header"&gt;<span class="Apple-converted-space">              </span>&lt;div class="logo"&gt;</span><span class="s10">🧠</span><span class="s4">&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;h1 class="title"&gt;SYNAPSE&lt;/h1&gt;<span class="Apple-converted-space">              </span>&lt;p class="subtitle"&gt;Proof-of-Work Focus Tool&lt;/p&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Today's Subject&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;select class="select" id="subjectSelect"&gt;<span class="Apple-converted-space">                </span>${</span><span class="s5">SUBJECTS</span><span class="s4">.</span><span class="s3">map</span><span class="s4">(</span><span class="s5">s</span><span class="s6"> =&gt;</span><span class="s4"> `&lt;option value="${</span><span class="s1">s</span><span class="s4">.</span><span class="s1">id</span><span class="s4">}" ${</span><span class="s1">s</span><span class="s4">.</span><span class="s1">id</span><span class="s6"> ===</span><span class="s1"> state</span><span class="s4">.</span><span class="s1">selectedSubject</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;${</span><span class="s1">s</span><span class="s4">.</span><span class="s1">icon</span><span class="s4">} ${</span><span class="s1">s</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}&lt;/option&gt;`).</span><span class="s3">join</span><span class="s4">('')}<span class="Apple-converted-space">              </span>&lt;/select&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Timer Preset&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;select class="select" id="presetSelect"&gt;<span class="Apple-converted-space">                </span>${</span><span class="s5">TIMER_PRESETS</span><span class="s4">.</span><span class="s3">map</span><span class="s4">(</span><span class="s5">p</span><span class="s6"> =&gt;</span><span class="s4"> `&lt;option value="${</span><span class="s1">p</span><span class="s4">.</span><span class="s1">id</span><span class="s4">}" ${</span><span class="s1">p</span><span class="s4">.</span><span class="s1">id</span><span class="s6"> ===</span><span class="s1"> state</span><span class="s4">.</span><span class="s1">selectedPreset</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;${</span><span class="s1">p</span><span class="s4">.</span><span class="s1">name</span><span class="s4">} (${</span><span class="s1">p</span><span class="s4">.</span><span class="s1">work</span><span class="s4">}/${</span><span class="s1">p</span><span class="s4">.</span><span class="s1">break</span><span class="s4">})&lt;/option&gt;`).</span><span class="s3">join</span><span class="s4">('')}<span class="Apple-converted-space">              </span>&lt;/select&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="stats-grid"&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">totalHours</span><span class="s4">.</span><span class="s3">toFixed</span><span class="s4">(</span><span class="s5">1</span><span class="s4">)}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;Total Hours&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">currentStreak</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;Day Streak&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">rank</span><span class="s4">.</span><span class="s1">icon</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;${</span><span class="s1">rank</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">vaultBalance</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;Vault Minutes&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;button class="btn btn-primary" id="beginBtn"&gt;<span class="Apple-converted-space">              </span></span><span class="s10">⚡</span><span class="s4"> Begin Your Shift<span class="Apple-converted-space">            </span>&lt;/button&gt;<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderTimer</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> preset</span><span class="s6"> =</span><span class="s3"> getPreset</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> subject</span><span class="s6"> =</span><span class="s3"> getSubject</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> totalSeconds</span><span class="s6"> =</span><span class="s1"> state.isBreak </span><span class="s6">?</span><span class="s1"> preset.break </span><span class="s6">*</span><span class="s5"> 60</span><span class="s6"> :</span><span class="s1"> preset.work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> progress</span><span class="s6"> =</span><span class="s1"> ((totalSeconds </span><span class="s6">-</span><span class="s1"> state.timeRemaining) </span><span class="s6">/</span><span class="s1"> totalSeconds) </span><span class="s6">*</span><span class="s5"> 100</span><span class="s1">;<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (state.timerState </span><span class="s6">===</span><span class="s4"> 'exitTicket'</span><span class="s1">) {</span><span class="s6"><span class="Apple-converted-space">          </span>return</span><span class="s3"> renderExitTicket</span><span class="s1">();<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="screen"&gt;<span class="Apple-converted-space">            </span>&lt;div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;"&gt;<span class="Apple-converted-space">              </span>&lt;button class="timer-btn" id="backBtn"&gt;</span><span class="s11">←</span><span class="s4">&lt;/button&gt;<span class="Apple-converted-space">              </span>&lt;div style="text-align:center;"&gt;<span class="Apple-converted-space">                </span>&lt;div style="font-size:14px;color:#94a3b8;"&gt;${</span><span class="s1">subject</span><span class="s4">.</span><span class="s1">icon</span><span class="s4">} ${</span><span class="s1">subject</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div style="font-size:12px;color:#64748b;"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">isBreak</span><span class="s6"> ?</span><span class="s4"> 'Break Time'</span><span class="s6"> :</span><span class="s4"> 'Focus Mode'}&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;button class="timer-btn" id="volumeBtn"&gt;</span><span class="s10">🔊</span><span class="s4">&lt;/button&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">showVolume</span><span class="s6"> ?</span><span class="s4"> `<span class="Apple-converted-space">              </span>&lt;div class="volume-control"&gt;<span class="Apple-converted-space">                </span>&lt;input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">volume</span><span class="s6"> *</span><span class="s5"> 100</span><span class="s4">}" /&gt;<span class="Apple-converted-space">                </span>&lt;div style="font-size:10px;color:#94a3b8;"&gt;${</span><span class="s1">Math</span><span class="s4">.</span><span class="s3">round</span><span class="s4">(</span><span class="s1">state</span><span class="s4">.</span><span class="s1">volume</span><span class="s6"> *</span><span class="s5"> 100</span><span class="s4">)}%&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>`</span><span class="s6"> :</span><span class="s4"> ''}<span class="Apple-converted-space">                        </span>&lt;div class="timer-display"&gt;<span class="Apple-converted-space">              </span>&lt;svg class="progress-ring" viewBox="0 0 280 280"&gt;<span class="Apple-converted-space">                </span>&lt;circle cx="140" cy="140" r="120" fill="none" stroke="rgba(6,182,212,0.1)" stroke-width="8"/&gt;<span class="Apple-converted-space">                </span>&lt;circle cx="140" cy="140" r="120" fill="none" stroke="url(#gradient)" stroke-width="8" <span class="Apple-converted-space">                  </span>stroke-dasharray="${</span><span class="s5">2</span><span class="s6"> *</span><span class="s1"> Math</span><span class="s4">.</span><span class="s5">PI</span><span class="s6"> *</span><span class="s5"> 120</span><span class="s4">}" <span class="Apple-converted-space">                  </span>stroke-dashoffset="${</span><span class="s5">2</span><span class="s6"> *</span><span class="s1"> Math</span><span class="s4">.</span><span class="s5">PI</span><span class="s6"> *</span><span class="s5"> 120</span><span class="s6"> *</span><span class="s4"> (</span><span class="s5">1</span><span class="s6"> -</span><span class="s1"> progress</span><span class="s6"> /</span><span class="s5"> 100</span><span class="s4">)}"<span class="Apple-converted-space">                  </span>stroke-linecap="round" transform="rotate(-90 140 140)"/&gt;<span class="Apple-converted-space">                </span>&lt;defs&gt;<span class="Apple-converted-space">                  </span>&lt;linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%"&gt;<span class="Apple-converted-space">                    </span>&lt;stop offset="0%" stop-color="#0891b2"/&gt;<span class="Apple-converted-space">                    </span>&lt;stop offset="100%" stop-color="#22d3ee"/&gt;<span class="Apple-converted-space">                  </span>&lt;/linearGradient&gt;<span class="Apple-converted-space">                </span>&lt;/defs&gt;<span class="Apple-converted-space">              </span>&lt;/svg&gt;<span class="Apple-converted-space">              </span>&lt;div style="margin-top:-200px;position:relative;"&gt;<span class="Apple-converted-space">                </span>&lt;div class="timer-time ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">timerState</span><span class="s6"> ===</span><span class="s4"> 'running'</span><span class="s6"> ?</span><span class="s4"> 'pulsing'</span><span class="s6"> :</span><span class="s4"> ''}"&gt;${</span><span class="s3">formatTime</span><span class="s4">(</span><span class="s1">state</span><span class="s4">.</span><span class="s1">timeRemaining</span><span class="s4">)}&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div class="timer-label"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">isBreak</span><span class="s6"> ?</span><span class="s4"> 'Break remaining'</span><span class="s6"> :</span><span class="s4"> 'Focus remaining'}&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="timer-controls" style="margin-top:80px;"&gt;<span class="Apple-converted-space">              </span>&lt;button class="timer-btn" id="resetBtn"&gt;</span><span class="s11">↺</span><span class="s4">&lt;/button&gt;<span class="Apple-converted-space">              </span>${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">timerState</span><span class="s6"> ===</span><span class="s4"> 'running' </span><span class="s6"><span class="Apple-converted-space">                </span>?</span><span class="s4"> `&lt;button class="timer-btn primary" id="pauseBtn"&gt;</span><span class="s12">⏸</span><span class="s4">&lt;/button&gt;`</span><span class="s6"><span class="Apple-converted-space">                </span>:</span><span class="s4"> `&lt;button class="timer-btn primary" id="playBtn"&gt;</span><span class="s11">▶</span><span class="s4">&lt;/button&gt;`<span class="Apple-converted-space">              </span>}<span class="Apple-converted-space">              </span>&lt;button class="timer-btn" id="skipBtn"&gt;</span><span class="s12">⏭</span><span class="s4">&lt;/button&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderExitTicket</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> subject</span><span class="s6"> =</span><span class="s3"> getSubject</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> bullets</span><span class="s6"> =</span><span class="s1"> state.exitTicketText.</span><span class="s3">split</span><span class="s1">(</span><span class="s4">'</span><span class="s5">\n</span><span class="s4">'</span><span class="s1">).</span><span class="s3">filter</span><span class="s1">(</span><span class="s8">l</span><span class="s6"> =&gt;</span><span class="s1"> l.</span><span class="s3">trim</span><span class="s1">()).</span><span class="s5">length</span><span class="s1">;<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="exit-ticket"&gt;<span class="Apple-converted-space">            </span>&lt;h2&gt;</span><span class="s10">🎓</span><span class="s4"> Exit Ticket&lt;/h2&gt;<span class="Apple-converted-space">            </span>&lt;p&gt;Summarize what you learned about ${</span><span class="s1">subject</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}&lt;/p&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Your Notes (3-5 bullet points)&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;textarea id="exitTextarea" placeholder="• First key concept...• Second important point...• Third thing I learned..."&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">exitTicketText</span><span class="s4">}&lt;/textarea&gt;<span class="Apple-converted-space">              </span>&lt;div class="bullet-count"&gt;${</span><span class="s1">bullets</span><span class="s4">}/3 minimum bullets&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div style="display:flex;gap:12px;"&gt;<span class="Apple-converted-space">              </span>&lt;button class="btn" style="flex:1;background:rgba(100,116,139,0.3);color:#94a3b8;" id="skipExitBtn"&gt;<span class="Apple-converted-space">                </span>Skip<span class="Apple-converted-space">              </span>&lt;/button&gt;<span class="Apple-converted-space">              </span>&lt;button class="btn btn-primary" style="flex:2;" id="submitExitBtn"&gt;<span class="Apple-converted-space">                </span></span><span class="s11">✓</span><span class="s4"> Submit &amp; Complete<span class="Apple-converted-space">              </span>&lt;/button&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderDashboard</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> heatmapData</span><span class="s6"> =</span><span class="s3"> generateHeatmap</span><span class="s1">();<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="screen"&gt;<span class="Apple-converted-space">            </span>&lt;h2 style="font-size:24px;margin-bottom:20px;"&gt;</span><span class="s10">📊</span><span class="s4"> Clinical Chart&lt;/h2&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Study Heatmap (12 weeks)&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="heatmap"&gt;<span class="Apple-converted-space">                </span>${</span><span class="s1">heatmapData</span><span class="s4">.</span><span class="s3">map</span><span class="s4">(</span><span class="s5">level</span><span class="s6"> =&gt;</span><span class="s4"> `&lt;div class="heatmap-cell ${</span><span class="s1">level</span><span class="s4">}"&gt;&lt;/div&gt;`).</span><span class="s3">join</span><span class="s4">('')}<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Subject Distribution&lt;/div&gt;<span class="Apple-converted-space">              </span>${</span><span class="s1">Object</span><span class="s4">.</span><span class="s3">entries</span><span class="s4">(</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">subjectHours</span><span class="s6"> ||</span><span class="s4"> {}).</span><span class="s3">slice</span><span class="s4">(</span><span class="s5">0</span><span class="s4">, </span><span class="s5">5</span><span class="s4">).</span><span class="s3">map</span><span class="s4">(([</span><span class="s5">id</span><span class="s4">, </span><span class="s5">hours</span><span class="s4">]) </span><span class="s6">=&gt;</span><span class="s4"> {</span><span class="s6"><span class="Apple-converted-space">                </span>const</span><span class="s5"> subject</span><span class="s6"> =</span><span class="s5"> SUBJECTS</span><span class="s4">.</span><span class="s3">find</span><span class="s4">(</span><span class="s5">s</span><span class="s6"> =&gt;</span><span class="s1"> s</span><span class="s4">.</span><span class="s1">id</span><span class="s6"> ===</span><span class="s1"> id</span><span class="s4">);</span><span class="s6"><span class="Apple-converted-space">                </span>const</span><span class="s5"> percent</span><span class="s6"> =</span><span class="s1"> Math</span><span class="s4">.</span><span class="s3">min</span><span class="s4">(</span><span class="s5">100</span><span class="s4">, (</span><span class="s1">hours</span><span class="s6"> /</span><span class="s1"> state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">totalHours</span><span class="s4">) </span><span class="s6">*</span><span class="s5"> 100</span><span class="s4">);</span><span class="s6"><span class="Apple-converted-space">                </span>return</span><span class="s4"> `<span class="Apple-converted-space">                  </span>&lt;div style="margin-bottom:12px;"&gt;<span class="Apple-converted-space">                    </span>&lt;div style="display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px;"&gt;<span class="Apple-converted-space">                      </span>&lt;span&gt;${</span><span class="s1">subject</span><span class="s4">?.</span><span class="s1">icon</span><span class="s6"> ||</span><span class="s4"> '</span><span class="s10">📚</span><span class="s4">'} ${</span><span class="s1">subject</span><span class="s4">?.</span><span class="s1">name</span><span class="s6"> ||</span><span class="s1"> id</span><span class="s4">}&lt;/span&gt;<span class="Apple-converted-space">                      </span>&lt;span style="color:#06b6d4;"&gt;${</span><span class="s1">hours</span><span class="s4">.</span><span class="s3">toFixed</span><span class="s4">(</span><span class="s5">1</span><span class="s4">)}h&lt;/span&gt;<span class="Apple-converted-space">                    </span>&lt;/div&gt;<span class="Apple-converted-space">                    </span>&lt;div class="progress-bar"&gt;<span class="Apple-converted-space">                      </span>&lt;div class="progress-fill" style="width:${</span><span class="s1">percent</span><span class="s4">}%"&gt;&lt;/div&gt;<span class="Apple-converted-space">                    </span>&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>`;<span class="Apple-converted-space">              </span>}).</span><span class="s3">join</span><span class="s4">('') </span><span class="s6">||</span><span class="s4"> '&lt;p style="color:#64748b;text-align:center;"&gt;No sessions yet&lt;/p&gt;'}<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Recent Sessions&lt;/div&gt;<span class="Apple-converted-space">              </span>${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">sessions</span><span class="s4">.</span><span class="s3">slice</span><span class="s4">(</span><span class="s5">0</span><span class="s4">, </span><span class="s5">5</span><span class="s4">).</span><span class="s3">map</span><span class="s4">(</span><span class="s5">session</span><span class="s6"> =&gt;</span><span class="s4"> {</span><span class="s6"><span class="Apple-converted-space">                </span>const</span><span class="s5"> subject</span><span class="s6"> =</span><span class="s5"> SUBJECTS</span><span class="s4">.</span><span class="s3">find</span><span class="s4">(</span><span class="s5">s</span><span class="s6"> =&gt;</span><span class="s1"> s</span><span class="s4">.</span><span class="s1">id</span><span class="s6"> ===</span><span class="s1"> session</span><span class="s4">.</span><span class="s1">subject</span><span class="s4">);</span><span class="s6"><span class="Apple-converted-space">                </span>return</span><span class="s4"> `<span class="Apple-converted-space">                  </span>&lt;div style="display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px solid rgba(100,116,139,0.1);"&gt;<span class="Apple-converted-space">                    </span>&lt;span style="font-size:20px;"&gt;${</span><span class="s1">subject</span><span class="s4">?.</span><span class="s1">icon</span><span class="s6"> ||</span><span class="s4"> '</span><span class="s10">📚</span><span class="s4">'}&lt;/span&gt;<span class="Apple-converted-space">                    </span>&lt;div style="flex:1;"&gt;<span class="Apple-converted-space">                      </span>&lt;div style="font-size:14px;"&gt;${</span><span class="s1">subject</span><span class="s4">?.</span><span class="s1">name</span><span class="s6"> ||</span><span class="s1"> session</span><span class="s4">.</span><span class="s1">subject</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                      </span>&lt;div style="font-size:11px;color:#64748b;"&gt;${</span><span class="s6">new</span><span class="s3"> Date</span><span class="s4">(</span><span class="s1">session</span><span class="s4">.</span><span class="s1">date</span><span class="s4">).</span><span class="s3">toLocaleDateString</span><span class="s4">()}&lt;/div&gt;<span class="Apple-converted-space">                    </span>&lt;/div&gt;<span class="Apple-converted-space">                    </span>&lt;div style="font-size:14px;color:#06b6d4;"&gt;${</span><span class="s1">session</span><span class="s4">.</span><span class="s1">duration</span><span class="s4">}m&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>`;<span class="Apple-converted-space">              </span>}).</span><span class="s3">join</span><span class="s4">('') </span><span class="s6">||</span><span class="s4"> '&lt;p style="color:#64748b;text-align:center;"&gt;No sessions yet&lt;/p&gt;'}<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> generateHeatmap</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> cells</span><span class="s6"> =</span><span class="s1"> [];</span><span class="s6"><span class="Apple-converted-space">        </span>for</span><span class="s1"> (</span><span class="s6">let</span><span class="s1"> i </span><span class="s6">=</span><span class="s5"> 0</span><span class="s1">; i </span><span class="s6">&lt;</span><span class="s5"> 84</span><span class="s1">; i</span><span class="s6">++</span><span class="s1">) {</span><span class="s6"><span class="Apple-converted-space">          </span>const</span><span class="s5"> random</span><span class="s6"> =</span><span class="s1"> Math.</span><span class="s3">random</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">          </span>if</span><span class="s1"> (random </span><span class="s6">&gt;</span><span class="s5"> 0.8</span><span class="s1">) cells.</span><span class="s3">push</span><span class="s1">(</span><span class="s4">'l4'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">          </span>else if</span><span class="s1"> (random </span><span class="s6">&gt;</span><span class="s5"> 0.6</span><span class="s1">) cells.</span><span class="s3">push</span><span class="s1">(</span><span class="s4">'l3'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">          </span>else if</span><span class="s1"> (random </span><span class="s6">&gt;</span><span class="s5"> 0.4</span><span class="s1">) cells.</span><span class="s3">push</span><span class="s1">(</span><span class="s4">'l2'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">          </span>else if</span><span class="s1"> (random </span><span class="s6">&gt;</span><span class="s5"> 0.2</span><span class="s1">) cells.</span><span class="s3">push</span><span class="s1">(</span><span class="s4">'l1'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">          </span>else</span><span class="s1"> cells.</span><span class="s3">push</span><span class="s1">(</span><span class="s4">''</span><span class="s1">);<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s1"> cells;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderProfile</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> rank</span><span class="s6"> =</span><span class="s3"> getCurrentRank</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> nextRank</span><span class="s6"> =</span><span class="s3"> getNextRank</span><span class="s1">();</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> progress</span><span class="s6"> =</span><span class="s1"> nextRank </span><span class="s6">?</span><span class="s1"> ((state.stats.totalHours </span><span class="s6">-</span><span class="s1"> rank.minHours) </span><span class="s6">/</span><span class="s1"> (nextRank.minHours </span><span class="s6">-</span><span class="s1"> rank.minHours)) </span><span class="s6">*</span><span class="s5"> 100</span><span class="s6"> :</span><span class="s5"> 100</span><span class="s1">;<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="screen"&gt;<span class="Apple-converted-space">            </span>&lt;div class="profile-header"&gt;<span class="Apple-converted-space">              </span>&lt;div class="avatar"&gt;${</span><span class="s1">rank</span><span class="s4">.</span><span class="s1">icon</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="rank"&gt;${</span><span class="s1">rank</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="rank-subtitle"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">totalHours</span><span class="s4">.</span><span class="s3">toFixed</span><span class="s4">(</span><span class="s5">1</span><span class="s4">)} hours studied&lt;/div&gt;<span class="Apple-converted-space">                            </span>${</span><span class="s1">nextRank</span><span class="s6"> ?</span><span class="s4"> `<span class="Apple-converted-space">                </span>&lt;div class="progress-bar" style="margin-top:20px;"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="progress-fill" style="width:${</span><span class="s1">progress</span><span class="s4">}%"&gt;&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div style="font-size:12px;color:#64748b;"&gt;<span class="Apple-converted-space">                  </span>${(</span><span class="s1">nextRank</span><span class="s4">.</span><span class="s1">minHours</span><span class="s6"> -</span><span class="s1"> state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">totalHours</span><span class="s4">).</span><span class="s3">toFixed</span><span class="s4">(</span><span class="s5">1</span><span class="s4">)}h to ${</span><span class="s1">nextRank</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">              </span>`</span><span class="s6"> :</span><span class="s4"> '&lt;div style="color:#06b6d4;margin-top:12px;"&gt;</span><span class="s10">🏆</span><span class="s4"> Maximum rank achieved!&lt;/div&gt;'}<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Badges Earned&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="badges"&gt;<span class="Apple-converted-space">                </span>${</span><span class="s5">BADGES</span><span class="s4">.</span><span class="s3">map</span><span class="s4">(</span><span class="s5">badge</span><span class="s6"> =&gt;</span><span class="s4"> {</span><span class="s6"><span class="Apple-converted-space">                  </span>const</span><span class="s5"> earned</span><span class="s6"> =</span><span class="s1"> badge</span><span class="s4">.</span><span class="s3">check</span><span class="s4">(</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">);</span><span class="s6"><span class="Apple-converted-space">                  </span>return</span><span class="s4"> `&lt;span class="badge ${</span><span class="s1">earned</span><span class="s6"> ?</span><span class="s4"> ''</span><span class="s6"> :</span><span class="s4"> 'locked'}"&gt;${</span><span class="s1">badge</span><span class="s4">.</span><span class="s1">icon</span><span class="s4">} ${</span><span class="s1">badge</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}&lt;/span&gt;`;<span class="Apple-converted-space">                </span>}).</span><span class="s3">join</span><span class="s4">('')}<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="stats-grid"&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">totalSessions</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;Sessions&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">longestStreak</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;Best Streak&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">perfectExits</span><span class="s6"> ||</span><span class="s5"> 0</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;Perfect Exits&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;div class="stat-card"&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-value"&gt;${</span><span class="s1">Object</span><span class="s4">.</span><span class="s3">keys</span><span class="s4">(</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">subjectHours</span><span class="s6"> ||</span><span class="s4"> {}).</span><span class="s5">length</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;div class="stat-label"&gt;Subjects&lt;/div&gt;<span class="Apple-converted-space">                </span>&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderVault</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="screen"&gt;<span class="Apple-converted-space">            </span>&lt;h2 style="font-size:24px;margin-bottom:20px;"&gt;</span><span class="s10">🎁</span><span class="s4"> Guilt-Free Vault&lt;/h2&gt;<span class="Apple-converted-space">                        </span>&lt;div class="vault-balance"&gt;<span class="Apple-converted-space">              </span>&lt;div class="vault-amount"&gt;${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">vaultBalance</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="vault-label"&gt;Available Minutes&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div style="font-size:12px;color:#64748b;margin-top:8px;"&gt;1 hour focus = 10 minutes leisure&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Unlock Apps&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="app-grid"&gt;<span class="Apple-converted-space">                </span>${</span><span class="s5">VAULT_APPS</span><span class="s4">.</span><span class="s3">map</span><span class="s4">(</span><span class="s5">app</span><span class="s6"> =&gt;</span><span class="s4"> `<span class="Apple-converted-space">                  </span>&lt;div class="app-item ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">stats</span><span class="s4">.</span><span class="s1">vaultBalance</span><span class="s6"> &lt;</span><span class="s1"> app</span><span class="s4">.</span><span class="s1">cost</span><span class="s6"> ?</span><span class="s4"> 'locked'</span><span class="s6"> :</span><span class="s4"> ''}" data-app="${</span><span class="s1">app</span><span class="s4">.</span><span class="s1">id</span><span class="s4">}"&gt;<span class="Apple-converted-space">                    </span>&lt;div class="app-icon"&gt;${</span><span class="s1">app</span><span class="s4">.</span><span class="s1">icon</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                    </span>&lt;div class="app-name"&gt;${</span><span class="s1">app</span><span class="s4">.</span><span class="s1">name</span><span class="s4">}&lt;/div&gt;<span class="Apple-converted-space">                    </span>&lt;div class="app-cost"&gt;${</span><span class="s1">app</span><span class="s4">.</span><span class="s1">cost</span><span class="s4">} min&lt;/div&gt;<span class="Apple-converted-space">                  </span>&lt;/div&gt;<span class="Apple-converted-space">                </span>`).</span><span class="s3">join</span><span class="s4">('')}<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderSettings</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;div class="screen"&gt;<span class="Apple-converted-space">            </span>&lt;h2 style="font-size:24px;margin-bottom:20px;"&gt;</span><span class="s10">⚙️</span><span class="s4"> Settings&lt;/h2&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Audio Environment&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;select class="select" id="audioSelect"&gt;<span class="Apple-converted-space">                </span>&lt;option value="silent" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">audioEnvironment</span><span class="s6"> ===</span><span class="s4"> 'silent'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">🔇</span><span class="s4"> Silent&lt;/option&gt;<span class="Apple-converted-space">                </span>&lt;option value="brown" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">audioEnvironment</span><span class="s6"> ===</span><span class="s4"> 'brown'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">🟤</span><span class="s4"> Brown Noise&lt;/option&gt;<span class="Apple-converted-space">                </span>&lt;option value="rain" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">audioEnvironment</span><span class="s6"> ===</span><span class="s4"> 'rain'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">🌧️</span><span class="s4"> Rain&lt;/option&gt;<span class="Apple-converted-space">                </span>&lt;option value="library" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">audioEnvironment</span><span class="s6"> ===</span><span class="s4"> 'library'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">📚</span><span class="s4"> Library&lt;/option&gt;<span class="Apple-converted-space">                </span>&lt;option value="coffee" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">audioEnvironment</span><span class="s6"> ===</span><span class="s4"> 'coffee'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">☕</span><span class="s4"> Coffee Shop&lt;/option&gt;<span class="Apple-converted-space">              </span>&lt;/select&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Strictness Level&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;select class="select" id="strictnessSelect"&gt;<span class="Apple-converted-space">                </span>&lt;option value="intern" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">strictnessLevel</span><span class="s6"> ===</span><span class="s4"> 'intern'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">👶</span><span class="s4"> Intern (Easy)&lt;/option&gt;<span class="Apple-converted-space">                </span>&lt;option value="chief" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">strictnessLevel</span><span class="s6"> ===</span><span class="s4"> 'chief'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">👨‍⚕️</span><span class="s4"> Chief Resident (Hard)&lt;/option&gt;<span class="Apple-converted-space">                </span>&lt;option value="surgeon" ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">strictnessLevel</span><span class="s6"> ===</span><span class="s4"> 'surgeon'</span><span class="s6"> ?</span><span class="s4"> 'selected'</span><span class="s6"> :</span><span class="s4"> ''}&gt;</span><span class="s10">🔪</span><span class="s4"> Surgeon (Extreme)&lt;/option&gt;<span class="Apple-converted-space">              </span>&lt;/select&gt;<span class="Apple-converted-space">              </span>&lt;p style="font-size:12px;color:#64748b;margin-top:8px;"&gt;<span class="Apple-converted-space">                </span>${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">strictnessLevel</span><span class="s6"> ===</span><span class="s4"> 'intern'</span><span class="s6"> ?</span><span class="s4"> 'Can pause, exit ticket optional'</span><span class="s6"> :</span><span class="s4"> </span><span class="s1"><span class="Apple-converted-space">                  </span>state</span><span class="s4">.</span><span class="s1">strictnessLevel</span><span class="s6"> ===</span><span class="s4"> 'chief'</span><span class="s6"> ?</span><span class="s4"> 'Cannot pause, exit ticket required'</span><span class="s6"> :</span><span class="s4"> <span class="Apple-converted-space">                  </span>'No mercy. Session failures have consequences.'}<span class="Apple-converted-space">              </span>&lt;/p&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">                        </span>&lt;div class="card"&gt;<span class="Apple-converted-space">              </span>&lt;div class="card-title"&gt;Data&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="settings-item"&gt;<span class="Apple-converted-space">                </span>&lt;span class="settings-label"&gt;Export Data&lt;/span&gt;<span class="Apple-converted-space">                </span>&lt;button class="btn" style="width:auto;padding:8px 16px;font-size:12px;" id="exportBtn"&gt;</span><span class="s10">📤</span><span class="s4"> Export&lt;/button&gt;<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">              </span>&lt;div class="settings-item"&gt;<span class="Apple-converted-space">                </span>&lt;span class="settings-label"&gt;Reset All Data&lt;/span&gt;<span class="Apple-converted-space">                </span>&lt;button class="btn" style="width:auto;padding:8px 16px;font-size:12px;background:#ef4444;" id="resetDataBtn"&gt;</span><span class="s10">🗑️</span><span class="s4"> Reset&lt;/button&gt;<span class="Apple-converted-space">              </span>&lt;/div&gt;<span class="Apple-converted-space">            </span>&lt;/div&gt;<span class="Apple-converted-space">          </span>&lt;/div&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> renderNav</span><span class="s1">() {</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> items</span><span class="s6"> =</span><span class="s1"> [<span class="Apple-converted-space">          </span>{ id: </span><span class="s4">'home'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🏠</span><span class="s4">'</span><span class="s1">, label: </span><span class="s4">'Home'</span><span class="s1"> },<span class="Apple-converted-space">          </span>{ id: </span><span class="s4">'timer'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">⏱️</span><span class="s4">'</span><span class="s1">, label: </span><span class="s4">'Timer'</span><span class="s1"> },<span class="Apple-converted-space">          </span>{ id: </span><span class="s4">'dashboard'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">📊</span><span class="s4">'</span><span class="s1">, label: </span><span class="s4">'Chart'</span><span class="s1"> },<span class="Apple-converted-space">          </span>{ id: </span><span class="s4">'profile'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">👤</span><span class="s4">'</span><span class="s1">, label: </span><span class="s4">'Profile'</span><span class="s1"> },<span class="Apple-converted-space">          </span>{ id: </span><span class="s4">'vault'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">🎁</span><span class="s4">'</span><span class="s1">, label: </span><span class="s4">'Vault'</span><span class="s1"> },<span class="Apple-converted-space">          </span>{ id: </span><span class="s4">'settings'</span><span class="s1">, icon: </span><span class="s4">'</span><span class="s10">⚙️</span><span class="s4">'</span><span class="s1">, label: </span><span class="s4">'Settings'</span><span class="s1"> }<span class="Apple-converted-space">        </span>];<span class="Apple-converted-space">        </span></span><span class="s6"><span class="Apple-converted-space">        </span>return</span><span class="s4"> `<span class="Apple-converted-space">          </span>&lt;nav class="nav"&gt;<span class="Apple-converted-space">            </span>${</span><span class="s1">items</span><span class="s4">.</span><span class="s3">map</span><span class="s4">(</span><span class="s5">item</span><span class="s6"> =&gt;</span><span class="s4"> `<span class="Apple-converted-space">              </span>&lt;button class="nav-btn ${</span><span class="s1">state</span><span class="s4">.</span><span class="s1">screen</span><span class="s6"> ===</span><span class="s1"> item</span><span class="s4">.</span><span class="s1">id</span><span class="s6"> ?</span><span class="s4"> 'active'</span><span class="s6"> :</span><span class="s4"> ''}" data-screen="${</span><span class="s1">item</span><span class="s4">.</span><span class="s1">id</span><span class="s4">}"&gt;<span class="Apple-converted-space">                </span>&lt;span style="font-size:20px;"&gt;${</span><span class="s1">item</span><span class="s4">.</span><span class="s1">icon</span><span class="s4">}&lt;/span&gt;<span class="Apple-converted-space">                </span>&lt;span&gt;${</span><span class="s1">item</span><span class="s4">.</span><span class="s1">label</span><span class="s4">}&lt;/span&gt;<span class="Apple-converted-space">              </span>&lt;/button&gt;<span class="Apple-converted-space">            </span>`).</span><span class="s3">join</span><span class="s4">('')}<span class="Apple-converted-space">          </span>&lt;/nav&gt;<span class="Apple-converted-space">        </span>`</span><span class="s1">;<span class="Apple-converted-space">      </span>}</span><span class="s6"><span class="Apple-converted-space">      </span>function</span><span class="s3"> attachEvents</span><span class="s1">() {</span><span class="s9"><span class="Apple-converted-space">        </span>// Navigation</span><span class="s1"><span class="Apple-converted-space">        </span>document.</span><span class="s3">querySelectorAll</span><span class="s1">(</span><span class="s4">'.nav-btn'</span><span class="s1">).</span><span class="s3">forEach</span><span class="s1">(</span><span class="s8">btn</span><span class="s6"> =&gt;</span><span class="s1"> {<span class="Apple-converted-space">          </span>btn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.screen </span><span class="s6">=</span><span class="s1"> btn.dataset.screen;</span><span class="s3"><span class="Apple-converted-space">            </span>render</span><span class="s1">();<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>});</span><span class="s9"><span class="Apple-converted-space">        </span>// Home screen</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> subjectSelect</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'subjectSelect'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (subjectSelect) {<span class="Apple-converted-space">          </span>subjectSelect.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'change'</span><span class="s1">, (</span><span class="s8">e</span><span class="s1">) </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.selectedSubject </span><span class="s6">=</span><span class="s1"> e.target.value;<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> presetSelect</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'presetSelect'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (presetSelect) {<span class="Apple-converted-space">          </span>presetSelect.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'change'</span><span class="s1">, (</span><span class="s8">e</span><span class="s1">) </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.selectedPreset </span><span class="s6">=</span><span class="s1"> e.target.value;<span class="Apple-converted-space">            </span>state.timeRemaining </span><span class="s6">=</span><span class="s3"> getPreset</span><span class="s1">().work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> beginBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'beginBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (beginBtn) {<span class="Apple-converted-space">          </span>beginBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.screen </span><span class="s6">=</span><span class="s4"> 'timer'</span><span class="s1">;<span class="Apple-converted-space">            </span>state.timeRemaining </span><span class="s6">=</span><span class="s3"> getPreset</span><span class="s1">().work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">            </span>render</span><span class="s1">();<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s9"><span class="Apple-converted-space">        </span>// Timer screen</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> backBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'backBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (backBtn) {<span class="Apple-converted-space">          </span>backBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">            </span>if</span><span class="s1"> (state.timerState </span><span class="s6">===</span><span class="s4"> 'running'</span><span class="s1">) {</span><span class="s6"><span class="Apple-converted-space">              </span>if</span><span class="s1"> (</span><span class="s3">confirm</span><span class="s1">(</span><span class="s4">'Are you sure you want to leave? Your session will be lost.'</span><span class="s1">)) {</span><span class="s3"><span class="Apple-converted-space">                </span>resetTimer</span><span class="s1">();<span class="Apple-converted-space">                </span>state.screen </span><span class="s6">=</span><span class="s4"> 'home'</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">                </span>render</span><span class="s1">();<span class="Apple-converted-space">              </span>}<span class="Apple-converted-space">            </span>} </span><span class="s6">else</span><span class="s1"> {<span class="Apple-converted-space">              </span>state.screen </span><span class="s6">=</span><span class="s4"> 'home'</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">              </span>render</span><span class="s1">();<span class="Apple-converted-space">            </span>}<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> volumeBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'volumeBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (volumeBtn) {<span class="Apple-converted-space">          </span>volumeBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.showVolume </span><span class="s6">= !</span><span class="s1">state.showVolume;</span><span class="s3"><span class="Apple-converted-space">            </span>render</span><span class="s1">();<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> volumeSlider</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'volumeSlider'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (volumeSlider) {<span class="Apple-converted-space">          </span>volumeSlider.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'input'</span><span class="s1">, (</span><span class="s8">e</span><span class="s1">) </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.volume </span><span class="s6">=</span><span class="s1"> e.target.value </span><span class="s6">/</span><span class="s5"> 100</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">            </span>updateVolume</span><span class="s1">();<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> playBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'playBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (playBtn) {<span class="Apple-converted-space">          </span>playBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, startTimer);<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> pauseBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'pauseBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (pauseBtn) {<span class="Apple-converted-space">          </span>pauseBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, pauseTimer);<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> resetBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'resetBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (resetBtn) {<span class="Apple-converted-space">          </span>resetBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, resetTimer);<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> skipBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'skipBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (skipBtn) {<span class="Apple-converted-space">          </span>skipBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">            </span>if</span><span class="s1"> (state.isBreak) {<span class="Apple-converted-space">              </span>state.timerState </span><span class="s6">=</span><span class="s4"> 'idle'</span><span class="s1">;<span class="Apple-converted-space">              </span>state.timeRemaining </span><span class="s6">=</span><span class="s3"> getPreset</span><span class="s1">().work </span><span class="s6">*</span><span class="s5"> 60</span><span class="s1">;<span class="Apple-converted-space">              </span>state.isBreak </span><span class="s6">=</span><span class="s5"> false</span><span class="s1">;</span><span class="s3"><span class="Apple-converted-space">              </span>clearInterval</span><span class="s1">(timerInterval);</span><span class="s3"><span class="Apple-converted-space">              </span>stopAudio</span><span class="s1">();</span><span class="s3"><span class="Apple-converted-space">              </span>render</span><span class="s1">();<span class="Apple-converted-space">            </span>}<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s9"><span class="Apple-converted-space">        </span>// Exit ticket</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> exitTextarea</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'exitTextarea'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (exitTextarea) {<span class="Apple-converted-space">          </span>exitTextarea.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'input'</span><span class="s1">, (</span><span class="s8">e</span><span class="s1">) </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.exitTicketText </span><span class="s6">=</span><span class="s1"> e.target.value;<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> submitExitBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'submitExitBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (submitExitBtn) {<span class="Apple-converted-space">          </span>submitExitBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, validateExitTicket);<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> skipExitBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'skipExitBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (skipExitBtn) {<span class="Apple-converted-space">          </span>skipExitBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, skipExitTicket);<span class="Apple-converted-space">        </span>}</span><span class="s9"><span class="Apple-converted-space">        </span>// Vault</span><span class="s1"><span class="Apple-converted-space">        </span>document.</span><span class="s3">querySelectorAll</span><span class="s1">(</span><span class="s4">'.app-item'</span><span class="s1">).</span><span class="s3">forEach</span><span class="s1">(</span><span class="s8">item</span><span class="s6"> =&gt;</span><span class="s1"> {<span class="Apple-converted-space">          </span>item.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> app</span><span class="s6"> =</span><span class="s5"> VAULT_APPS</span><span class="s1">.</span><span class="s3">find</span><span class="s1">(</span><span class="s8">a</span><span class="s6"> =&gt;</span><span class="s1"> a.id </span><span class="s6">===</span><span class="s1"> item.dataset.app);</span><span class="s6"><span class="Apple-converted-space">            </span>if</span><span class="s1"> (app) </span><span class="s3">unlockApp</span><span class="s1">(app);<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>});</span><span class="s9"><span class="Apple-converted-space">        </span>// Settings</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> audioSelect</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'audioSelect'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (audioSelect) {<span class="Apple-converted-space">          </span>audioSelect.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'change'</span><span class="s1">, (</span><span class="s8">e</span><span class="s1">) </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.audioEnvironment </span><span class="s6">=</span><span class="s1"> e.target.value;<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> strictnessSelect</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'strictnessSelect'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (strictnessSelect) {<span class="Apple-converted-space">          </span>strictnessSelect.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'change'</span><span class="s1">, (</span><span class="s8">e</span><span class="s1">) </span><span class="s6">=&gt;</span><span class="s1"> {<span class="Apple-converted-space">            </span>state.strictnessLevel </span><span class="s6">=</span><span class="s1"> e.target.value;<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> exportBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'exportBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (exportBtn) {<span class="Apple-converted-space">          </span>exportBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> data</span><span class="s6"> =</span><span class="s1"> { stats: state.stats, sessions: state.sessions };</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> blob</span><span class="s6"> = new</span><span class="s3"> Blob</span><span class="s1">([</span><span class="s5">JSON</span><span class="s1">.</span><span class="s3">stringify</span><span class="s1">(data, </span><span class="s5">null</span><span class="s1">, </span><span class="s5">2</span><span class="s1">)], { type: </span><span class="s4">'application/json'</span><span class="s1"> });</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> url</span><span class="s6"> =</span><span class="s5"> URL</span><span class="s1">.</span><span class="s3">createObjectURL</span><span class="s1">(blob);</span><span class="s6"><span class="Apple-converted-space">            </span>const</span><span class="s5"> a</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">createElement</span><span class="s1">(</span><span class="s4">'a'</span><span class="s1">);<span class="Apple-converted-space">            </span>a.href </span><span class="s6">=</span><span class="s1"> url;<span class="Apple-converted-space">            </span>a.download </span><span class="s6">=</span><span class="s4"> 'synapse-data.json'</span><span class="s1">;<span class="Apple-converted-space">            </span>a.</span><span class="s3">click</span><span class="s1">();<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}</span><span class="s6"><span class="Apple-converted-space">        </span>const</span><span class="s5"> resetDataBtn</span><span class="s6"> =</span><span class="s1"> document.</span><span class="s3">getElementById</span><span class="s1">(</span><span class="s4">'resetDataBtn'</span><span class="s1">);</span><span class="s6"><span class="Apple-converted-space">        </span>if</span><span class="s1"> (resetDataBtn) {<span class="Apple-converted-space">          </span>resetDataBtn.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s4">'click'</span><span class="s1">, () </span><span class="s6">=&gt;</span><span class="s1"> {</span><span class="s6"><span class="Apple-converted-space">            </span>if</span><span class="s1"> (</span><span class="s3">confirm</span><span class="s1">(</span><span class="s4">'Are you sure? This will delete all your progress!'</span><span class="s1">)) {<span class="Apple-converted-space">              </span>localStorage.</span><span class="s3">clear</span><span class="s1">();<span class="Apple-converted-space">              </span>state.stats </span><span class="s6">=</span><span class="s3"> loadStats</span><span class="s1">();<span class="Apple-converted-space">              </span>state.sessions </span><span class="s6">=</span><span class="s1"> [];</span><span class="s3"><span class="Apple-converted-space">              </span>showAlert</span><span class="s1">(</span><span class="s4">'Data reset successfully'</span><span class="s1">, </span><span class="s4">'success'</span><span class="s1">);<span class="Apple-converted-space">            </span>}<span class="Apple-converted-space">          </span>});<span class="Apple-converted-space">        </span>}<span class="Apple-converted-space">      </span>}</span><span class="s9"><span class="Apple-converted-space">      </span>// Service Worker Registration</span><span class="s6"><span class="Apple-converted-space">      </span>if</span><span class="s1"> (</span><span class="s4">'serviceWorker'</span><span class="s6"> in</span><span class="s1"> navigator) {<span class="Apple-converted-space">        </span>navigator.serviceWorker.</span><span class="s3">register</span><span class="s1">(</span><span class="s4">'./sw.js'</span><span class="s1">).</span><span class="s3">catch</span><span class="s1">(() </span><span class="s6">=&gt;</span><span class="s1"> {});<span class="Apple-converted-space">      </span>}</span><span class="s9"><span class="Apple-converted-space">      </span>// Initialize</span><span class="s3"><span class="Apple-converted-space">      </span>render</span><span class="s1">();<span class="Apple-converted-space">    </span>&lt;/</span><span class="s2">script</span><span class="s1">&gt;<span class="Apple-converted-space">  </span>&lt;/</span><span class="s2">body</span><span class="s1">&gt;&lt;/</span><span class="s2">html</span><span class="s1">&gt;</span></p>
</body>
</html>
